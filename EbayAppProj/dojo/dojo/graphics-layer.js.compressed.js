//>>built
require({cache:{"dojox/gfx/arc":function(){define("dojox/gfx/arc",["./_base","dojo/_base/lang","./matrix"],function(m,r,p){function u(a){var n=Math.cos(a),a=Math.sin(a),c={x:n+4/3*(1-n),y:a-4/3*n*(1-n)/a};return{s:{x:n,y:-a},c1:{x:c.x,y:-c.y},c2:c,e:{x:n,y:a}}}var l=2*Math.PI,c=Math.PI/4,i=Math.PI/8,g=c+i,k=u(i);return m.arc={unitArcAsBezier:u,curvePI4:k,arcAsBezier:function(a,n,v,b,t,o,e,x){var t=Boolean(t),o=Boolean(o),H=p._degToRad(b),b=n*n,m=v*v,C=p.multiplyPoint(p.rotate(-H),{x:(a.x-e)/2,y:(a.y-
x)/2}),I=C.x*C.x,r=C.y*C.y,b=Math.sqrt((b*m-b*r-m*I)/(b*r+m*I));isNaN(b)&&(b=0);b={x:b*n*C.y/v,y:-b*v*C.x/n};t==o&&(b={x:-b.x,y:-b.y});b=p.multiplyPoint([p.translate((a.x+e)/2,(a.y+x)/2),p.rotate(H)],b);n=p.normalize([p.translate(b.x,b.y),p.rotate(H),p.scale(n,v)]);b=p.invert(n);a=p.multiplyPoint(b,a);x=p.multiplyPoint(b,e,x);e=Math.atan2(a.y,a.x);x=Math.atan2(x.y,x.x);b=e-x;o&&(b=-b);0>b?b+=l:b>l&&(b-=l);v=i;x=k;v=o?v:-v;a=[];for(t=b;0<t;t-=c)t<g&&(v=t/2,x=u(v),v=o?v:-v,t=0),C=p.normalize([n,p.rotate(e+
v)]),o?(b=p.multiplyPoint(C,x.c1),H=p.multiplyPoint(C,x.c2),C=p.multiplyPoint(C,x.e)):(b=p.multiplyPoint(C,x.c2),H=p.multiplyPoint(C,x.c1),C=p.multiplyPoint(C,x.s)),a.push([b.x,b.y,H.x,H.y,C.x,C.y]),e+=2*v;return a}}})},"dojox/gfx/VectorText":function(){define("dojox/gfx/VectorText","dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/_base/loader dojo/_base/xhr ./_base dojox/xml/DomParser dojox/html/metrics ./matrix".split(" "),function(m,r,p,u,l,c,i,g,k){var a=function(n){var a;l.get({url:n,
sync:true,load:function(b){a=b}});return a};m.getObject("dojox.gfx.VectorText",true);m.mixin(c,{vectorFontFitting:{NONE:0,FLOW:1,FIT:2},defaultVectorText:{type:"vectortext",x:0,y:0,width:null,height:null,text:"",align:"start",decoration:"none",fitting:0,leading:1.5},defaultVectorFont:{type:"vectorfont",size:"10pt",family:null},_vectorFontCache:{},_svgFontCache:{},getVectorFont:function(n){return c._vectorFontCache[n]?c._vectorFontCache[n]:new c.VectorFont(n)}});return r("dojox.gfx.VectorFont",null,
{_entityRe:/&(quot|apos|lt|gt|amp|#x[^;]+|#\d+);/g,_decodeEntitySequence:function(n){if(n.match(this._entityRe)){for(var a={amp:"&",apos:"'",quot:'"',lt:"<",gt:">"},b,t="";(b=this._entityRe.exec(n))!==null;)t=b[1].charAt(1)=="x"?t+String.fromCharCode(parseInt(b[1].slice(2),16)):isNaN(parseInt(b[1].slice(1),10))?t+(a[b[1]]||""):t+String.fromCharCode(parseInt(b[1].slice(1),10));return t}},_parse:function(n,a){var b=c._svgFontCache[a]||i.parse(n),t=b.documentElement.byName("font")[0],o=b.documentElement.byName("font-face")[0],
e=parseFloat(o.getAttribute("units-per-em")||1E3,10),x={x:parseFloat(t.getAttribute("horiz-adv-x"),10),y:parseFloat(t.getAttribute("vert-adv-y")||0,10)};if(!x.y)x.y=e;var t={horiz:{x:parseFloat(t.getAttribute("horiz-origin-x")||0,10),y:parseFloat(t.getAttribute("horiz-origin-y")||0,10)},vert:{x:parseFloat(t.getAttribute("vert-origin-x")||0,10),y:parseFloat(t.getAttribute("vert-origin-y")||0,10)}},g=o.getAttribute("font-family"),k=o.getAttribute("font-style")||"all",l=o.getAttribute("font-variant")||
"normal",I=o.getAttribute("font-weight")||"all",r=o.getAttribute("font-stretch")||"normal",w=o.getAttribute("unicode-range")||"U+0-10FFFF";o.getAttribute("panose-1");o.getAttribute("cap-height");var T=parseFloat(o.getAttribute("ascent")||e-t.vert.y,10),K=parseFloat(o.getAttribute("descent")||t.vert.y,10),P={},L=g;o.byName("font-face-name")[0]&&(L=o.byName("font-face-name")[0].getAttribute("name"));if(!c._vectorFontCache[L]){p.forEach(["alphabetic","ideographic","mathematical","hanging"],function(e){var t=
o.getAttribute(e);t!==null&&(P[e]=parseFloat(t,10))});var Q=parseFloat(b.documentElement.byName("missing-glyph")[0].getAttribute("horiz-adv-x")||x.x,10),u={},$={},aa=b.documentElement.byName("glyph");p.forEach(aa,function(e){var t=e.getAttribute("unicode"),b=e.getAttribute("glyph-name"),o=parseFloat(e.getAttribute("horiz-adv-x")||x.x,10),e=e.getAttribute("d");t.match(this._entityRe)&&(t=this._decodeEntitySequence(t));o={code:t,name:b,xAdvance:o,path:e};u[t]=o;$[b]=o},this);aa=b.documentElement.byName("hkern");
p.forEach(aa,function(e){var t=-parseInt(e.getAttribute("k"),10),b=e.getAttribute("u1"),o=e.getAttribute("g1"),n=e.getAttribute("u2"),e=e.getAttribute("g2"),a;if(b){b=this._decodeEntitySequence(b);u[b]&&(a=u[b])}else $[o]&&(a=$[o]);if(a){if(!a.kern)a.kern={};if(n){n=this._decodeEntitySequence(n);a.kern[n]={x:t}}else $[e]&&(a.kern[$[e].code]={x:t})}},this);m.mixin(this,{family:g,name:L,style:k,variant:l,weight:I,stretch:r,range:w,viewbox:{width:e,height:e},origin:t,advance:m.mixin(x,{missing:{x:Q,
y:Q}}),ascent:T,descent:K,baseline:P,glyphs:u});c._vectorFontCache[L]=this;c._vectorFontCache[a]=this;L!=g&&!c._vectorFontCache[g]&&(c._vectorFontCache[g]=this);c._svgFontCache[a]||(c._svgFontCache[a]=b)}},_clean:function(){var a=this.name,g=this.family;p.forEach(["family","name","style","variant","weight","stretch","range","viewbox","origin","advance","ascent","descent","baseline","glyphs"],function(b){try{delete this[b]}catch(t){}},this);c._vectorFontCache[a]&&delete c._vectorFontCache[a];c._vectorFontCache[g]&&
delete c._vectorFontCache[g];return this},constructor:function(a){this._defaultLeading=1.5;a!==void 0&&this.load(a)},load:function(n){this.onLoadBegin(n.toString());this._parse(c._svgFontCache[n.toString()]||a(n.toString()),n.toString());this.onLoad(this);return this},initialized:function(){return this.glyphs!==null},_round:function(a){return Math.round(1E3*a)/1E3},_leading:function(a){return this.viewbox.height*(a||this._defaultLeading)},_normalize:function(a){return a.replace(/\s+/g,String.fromCharCode(32))},
_getWidth:function(a){var c=0,b=0,t=null;p.forEach(a,function(o,e){b=o.xAdvance;a[e]&&(o.kern&&o.kern[a[e].code])&&(b=b+o.kern[a[e].code].x);c=c+b;t=o});t&&t.code==" "&&(c=c-t.xAdvance);return this._round(c)},_getLongestLine:function(a){var c=0,b=0;p.forEach(a,function(t,a){var e=Math.max(c,this._getWidth(t));if(e>c){c=e;b=a}},this);return{width:c,index:b,line:a[b]}},_trim:function(a){var c=function(b){if(b.length){b[b.length-1].code==" "&&b.splice(b.length-1,1);b.length&&b[0].code==" "&&b.splice(0,
1)}};m.isArray(a[0])?p.forEach(a,c):c(a);return a},_split:function(a,c){for(var b=this._getWidth(a),b=Math.floor(b/c),t=[],o=0,e=[],x=false,g=0,i=a.length;g<i;g++){a[g].code==" "&&(x=true);o=o+a[g].xAdvance;g+1<i&&(a[g].kern&&a[g].kern[a[g+1].code])&&(o=o+a[g].kern[a[g+1].code].x);if(o>=b){for(o=a[g];x&&o.code!=" "&&g>=0;){o=e.pop();g--}t.push(e);e=[];o=0;x=false}e.push(a[g])}e.length&&t.push(e);return this._trim(t)},_getSizeFactor:function(a){var a=a+"",c=g.getCachedFontMeasurements(),b=this.viewbox.height,
t=c["1em"],t=parseFloat(a,10);if(a.indexOf("em")>-1)return this._round(c["1em"]*t/b);if(a.indexOf("ex")>-1)return this._round(c["1ex"]*t/b);if(a.indexOf("pt")>-1)return this._round(c["12pt"]/12*t/b);if(a.indexOf("px")>-1)return this._round(c["16px"]/16*t/b);if(a.indexOf("%")>-1)return this._round(c["1em"]*(t/100)/b);t=c[a]||c.medium;return this._round(t/b)},_getFitFactor:function(a,c,b,t){if(b){var o=this._getLongestLine(a).width;return this._round(Math.min(c/o,b/(a.length*this.viewbox.height*t-(this.viewbox.height*
t-this.viewbox.height))))}return this._round(c/this._getWidth(a))},_getBestFit:function(a,c,b,t){for(var o=32,e=0,x=o;o>0;){var g=this._getFitFactor(this._split(a,o),c,b,t);if(g>e){e=g;x=o}o--}return{scale:e,lines:this._split(a,x)}},_getBestFlow:function(a,c,b){for(var t=[],o=0,e=[],x=false,g=0,i=a.length;g<i;g++){a[g].code==" "&&(x=true);var k=a[g].xAdvance;g+1<i&&(a[g].kern&&a[g].kern[a[g+1].code])&&(k=k+a[g].kern[a[g+1].code].x);o=o+b*k;if(o>=c){for(o=a[g];x&&o.code!=" "&&g>=0;){o=e.pop();g--}t.push(e);
e=[];o=0;x=false}e.push(a[g])}e.length&&t.push(e);return this._trim(t)},getWidth:function(a,c){return this._getWidth(p.map(this._normalize(a).split(""),function(a){return this.glyphs[a]||{xAdvance:this.advance.missing.x}},this))*(c||1)},getLineHeight:function(a){return this.viewbox.height*(a||1)},getCenterline:function(a){return(a||1)*(this.viewbox.height/2)},getBaseline:function(a){return(a||1)*(this.viewbox.height+this.descent)},draw:function(a,g,b,t,o){if(!this.initialized())throw Error("dojox.gfx.VectorFont.draw(): we have not been initialized yet.");
var e=a.createGroup();if(g.x||g.y)a.applyTransform({dx:g.x||0,dy:g.y||0});var x=p.map(this._normalize(g.text).split(""),function(e){return this.glyphs[e]||{path:null,xAdvance:this.advance.missing.x}},this),a=b.size,i=g.fitting,l=g.width,m=g.height,b=g.align,g=g.leading||this._defaultLeading;if(i&&(i==c.vectorFontFitting.FLOW&&!l||i==c.vectorFontFitting.FIT&&(!l||!m)))i=c.vectorFontFitting.NONE;switch(i){case c.vectorFontFitting.FIT:x=this._getBestFit(x,l,m,g);a=x.scale;x=x.lines;break;case c.vectorFontFitting.FLOW:a=
this._getSizeFactor(a);x=this._getBestFlow(x,l,a);break;default:a=this._getSizeFactor(a);x=[x]}for(var x=p.filter(x,function(e){return e.length>0}),l=0,i=this._getLongestLine(x).width,m=0,I=x.length;m<I;m++){for(var r=0,w=x[m],T=this._getWidth(w),K=e.createGroup(),P=0;P<w.length;P++){var L=w[P];if(L.path!==null){var Q=K.createPath(L.path).setFill(t);o&&Q.setStroke(o);Q.setTransform([k.flipY,k.translate(r,-this.viewbox.height-this.descent)])}r=r+L.xAdvance;P+1<w.length&&(L.kern&&L.kern[w[P+1].code])&&
(r=r+L.kern[w[P+1].code].x)}r=0;b=="middle"?r=i/2-T/2:b=="end"&&(r=i-T);K.setTransform({dx:r,dy:l});l=l+this.viewbox.height*g}e.setTransform(k.scale(a));return e},onLoadBegin:function(){},onLoad:function(){}})})},"dojox/gfx":function(){define("dojox/gfx",["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(m,r,p){r.switchTo(p);return r})},"dojox/gfx/shape":function(){define("dojox/gfx/shape","./_base dojo/_base/lang dojo/_base/declare dojo/_base/kernel dojo/_base/sniff dojo/_base/connect dojo/_base/array dojo/dom-construct dojo/_base/Color ./matrix".split(" "),
function(m,r,p,u,l,c,i,g,k,a){var n=m.shape={},v={},b={};n.register=function(a){var c=a.declaredClass.split(".").pop(),e=c in v?++v[c]:v[c]=0,c=c+e;b[c]=a;return c};n.byId=function(a){return b[a]};n.dispose=function(a,c){if(c&&a.children)for(var e=0;e<a.children.length;++e)n.dispose(a.children[e],true);delete b[a.getUID()]};n.Shape=p("dojox.gfx.shape.Shape",null,{constructor:function(){this.parentMatrix=this.parent=this.bbox=this.strokeStyle=this.fillStyle=this.matrix=this.shape=this.rawNode=null;
var a=n.register(this);this.getUID=function(){return a}},destroy:function(){n.dispose(this)},getNode:function(){return this.rawNode},getShape:function(){return this.shape},getTransform:function(){return this.matrix},getFill:function(){return this.fillStyle},getStroke:function(){return this.strokeStyle},getParent:function(){return this.parent},getBoundingBox:function(){return this.bbox},getTransformedBoundingBox:function(){var t=this.getBoundingBox();if(!t)return null;var b=this._getRealMatrix();return[a.multiplyPoint(b,
t.x,t.y),a.multiplyPoint(b,t.x+t.width,t.y),a.multiplyPoint(b,t.x+t.width,t.y+t.height),a.multiplyPoint(b,t.x,t.y+t.height)]},getEventSource:function(){return this.rawNode},setClip:function(a){this.clip=a},getClip:function(){return this.clip},setShape:function(a){this.shape=m.makeParameters(this.shape,a);this.bbox=null;return this},setFill:function(a){if(!a){this.fillStyle=null;return this}var b=null;if(typeof a=="object"&&"type"in a)switch(a.type){case "linear":b=m.makeParameters(m.defaultLinearGradient,
a);break;case "radial":b=m.makeParameters(m.defaultRadialGradient,a);break;case "pattern":b=m.makeParameters(m.defaultPattern,a)}else b=m.normalizeColor(a);this.fillStyle=b;return this},setStroke:function(a){if(!a){this.strokeStyle=null;return this}if(typeof a=="string"||r.isArray(a)||a instanceof k)a={color:a};a=this.strokeStyle=m.makeParameters(m.defaultStroke,a);a.color=m.normalizeColor(a.color);return this},setTransform:function(b){this.matrix=a.clone(b?a.normalize(b):a.identity);return this._applyTransform()},
_applyTransform:function(){return this},moveToFront:function(){var a=this.getParent();if(a){a._moveChildToFront(this);this._moveToFront()}return this},moveToBack:function(){var a=this.getParent();if(a){a._moveChildToBack(this);this._moveToBack()}return this},_moveToFront:function(){},_moveToBack:function(){},applyRightTransform:function(a){return a?this.setTransform([this.matrix,a]):this},applyLeftTransform:function(a){return a?this.setTransform([a,this.matrix]):this},applyTransform:function(a){return a?
this.setTransform([this.matrix,a]):this},removeShape:function(a){this.parent&&this.parent.remove(this,a);return this},_setParent:function(a,b){this.parent=a;return this._updateParentMatrix(b)},_updateParentMatrix:function(b){this.parentMatrix=b?a.clone(b):null;return this._applyTransform()},_getRealMatrix:function(){for(var b=this.matrix,c=this.parent;c;){c.matrix&&(b=a.multiply(c.matrix,b));c=c.parent}return b}});n._eventsProcessing={connect:function(a,b,e){return c.connect(this.getEventSource(),
a,n.fixCallback(this,m.fixTarget,b,e))},disconnect:function(a){c.disconnect(a)}};n.fixCallback=function(a,b,e,c){if(!c){c=e;e=null}if(r.isString(c)){e=e||u.global;if(!e[c])throw['dojox.gfx.shape.fixCallback: scope["',c,'"] is null (scope="',e,'")'].join("");return function(g){return b(g,a)?e[c].apply(e,arguments||[]):void 0}}return!e?function(g){return b(g,a)?c.apply(e,arguments):void 0}:function(g){return b(g,a)?c.apply(e,arguments||[]):void 0}};r.extend(n.Shape,n._eventsProcessing);n.Container=
{_init:function(){this.children=[]},openBatch:function(){},closeBatch:function(){},add:function(a){var b=a.getParent();b&&b.remove(a,true);this.children.push(a);return a._setParent(this,this._getRealMatrix())},remove:function(a,b){for(var e=0;e<this.children.length;++e)if(this.children[e]==a){if(!b){a.parent=null;a.parentMatrix=null}this.children.splice(e,1);break}return this},clear:function(a){for(var b,e=0;e<this.children.length;++e){b=this.children[e];b.parent=null;b.parentMatrix=null;a&&b.destroy()}this.children=
[];return this},getBoundingBox:function(){if(this.children){var b=null;i.forEach(this.children,function(c){var e=c.getBoundingBox();if(e){(c=c.getTransform())&&(e=a.multiplyRectangle(c,e));if(b){b.x=Math.min(b.x,e.x);b.y=Math.min(b.y,e.y);b.endX=Math.max(b.endX,e.x+e.width);b.endY=Math.max(b.endY,e.y+e.height)}else b={x:e.x,y:e.y,endX:e.x+e.width,endY:e.y+e.height}}});if(b){b.width=b.endX-b.x;b.height=b.endY-b.y}return b}return null},_moveChildToFront:function(a){for(var b=0;b<this.children.length;++b)if(this.children[b]==
a){this.children.splice(b,1);this.children.push(a);break}return this},_moveChildToBack:function(a){for(var b=0;b<this.children.length;++b)if(this.children[b]==a){this.children.splice(b,1);this.children.unshift(a);break}return this}};n.Surface=p("dojox.gfx.shape.Surface",null,{constructor:function(){this._parent=this.rawNode=null;this._nodes=[];this._events=[]},destroy:function(){i.forEach(this._nodes,g.destroy);this._nodes=[];i.forEach(this._events,c.disconnect);this._events=[];this.rawNode=null;
if(l("ie"))for(;this._parent.lastChild;)g.destroy(this._parent.lastChild);else this._parent.innerHTML="";this._parent=null},getEventSource:function(){return this.rawNode},_getRealMatrix:function(){return null},isLoaded:true,onLoad:function(){},whenLoaded:function(a,b){var e=r.hitch(a,b);if(this.isLoaded)e(this);else var g=c.connect(this,"onLoad",function(a){c.disconnect(g);e(a)})}});r.extend(n.Surface,n._eventsProcessing);n.Rect=p("dojox.gfx.shape.Rect",n.Shape,{constructor:function(a){this.shape=
m.getDefault("Rect");this.rawNode=a},getBoundingBox:function(){return this.shape}});n.Ellipse=p("dojox.gfx.shape.Ellipse",n.Shape,{constructor:function(a){this.shape=m.getDefault("Ellipse");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:a.cx-a.rx,y:a.cy-a.ry,width:2*a.rx,height:2*a.ry}}return this.bbox}});n.Circle=p("dojox.gfx.shape.Circle",n.Shape,{constructor:function(a){this.shape=m.getDefault("Circle");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=
this.shape;this.bbox={x:a.cx-a.r,y:a.cy-a.r,width:2*a.r,height:2*a.r}}return this.bbox}});n.Line=p("dojox.gfx.shape.Line",n.Shape,{constructor:function(a){this.shape=m.getDefault("Line");this.rawNode=a},getBoundingBox:function(){if(!this.bbox){var a=this.shape;this.bbox={x:Math.min(a.x1,a.x2),y:Math.min(a.y1,a.y2),width:Math.abs(a.x2-a.x1),height:Math.abs(a.y2-a.y1)}}return this.bbox}});n.Polyline=p("dojox.gfx.shape.Polyline",n.Shape,{constructor:function(a){this.shape=m.getDefault("Polyline");this.rawNode=
a},setShape:function(a,b){if(a&&a instanceof Array){this.inherited(arguments,[{points:a}]);b&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])}else this.inherited(arguments,[a]);return this},_normalizePoints:function(){var a=this.shape.points,b=a&&a.length;if(b&&typeof a[0]=="number"){for(var e=[],c=0;c<b;c=c+2)e.push({x:a[c],y:a[c+1]});this.shape.points=e}},getBoundingBox:function(){if(!this.bbox&&this.shape.points.length){for(var a=this.shape.points,b=a.length,e=a[0],c=e.x,
g=e.y,i=e.x,n=e.y,k=1;k<b;++k){e=a[k];if(c>e.x)c=e.x;if(i<e.x)i=e.x;if(g>e.y)g=e.y;if(n<e.y)n=e.y}this.bbox={x:c,y:g,width:i-c,height:n-g}}return this.bbox}});n.Image=p("dojox.gfx.shape.Image",n.Shape,{constructor:function(a){this.shape=m.getDefault("Image");this.rawNode=a},getBoundingBox:function(){return this.shape},setStroke:function(){return this},setFill:function(){return this}});n.Text=p(n.Shape,{constructor:function(a){this.fontStyle=null;this.shape=m.getDefault("Text");this.rawNode=a},getFont:function(){return this.fontStyle},
setFont:function(a){this.fontStyle=typeof a=="string"?m.splitFontString(a):m.makeParameters(m.defaultFont,a);this._setFont();return this}});n.Creator={createShape:function(a){switch(a.type){case m.defaultPath.type:return this.createPath(a);case m.defaultRect.type:return this.createRect(a);case m.defaultCircle.type:return this.createCircle(a);case m.defaultEllipse.type:return this.createEllipse(a);case m.defaultLine.type:return this.createLine(a);case m.defaultPolyline.type:return this.createPolyline(a);
case m.defaultImage.type:return this.createImage(a);case m.defaultText.type:return this.createText(a);case m.defaultTextPath.type:return this.createTextPath(a)}return null},createGroup:function(){return this.createObject(m.Group)},createRect:function(a){return this.createObject(m.Rect,a)},createEllipse:function(a){return this.createObject(m.Ellipse,a)},createCircle:function(a){return this.createObject(m.Circle,a)},createLine:function(a){return this.createObject(m.Line,a)},createPolyline:function(a){return this.createObject(m.Polyline,
a)},createImage:function(a){return this.createObject(m.Image,a)},createText:function(a){return this.createObject(m.Text,a)},createPath:function(a){return this.createObject(m.Path,a)},createTextPath:function(a){return this.createObject(m.TextPath,{}).setText(a)},createObject:function(){return null}};return n})},"dojox/gfx/canvas":function(){define("dojox/gfx/canvas","./_base dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/_base/window dojo/dom-geometry dojo/dom ./_base ./shape ./path ./arc ./matrix ./decompose".split(" "),
function(m,r,p,u,l,c,i,g,k,a,n,v){var b=m.canvas={},t=null,o=v.multiplyPoint,e=Math.PI,x=2*e,H=e/2,g=r.extend;b.Shape=u("dojox.gfx.canvas.Shape",k.Shape,{_render:function(a){a.save();this._renderTransform(a);this._renderClip(a);this._renderShape(a);this._renderFill(a,true);this._renderStroke(a,true);a.restore()},_renderClip:function(a){if(this.canvasClip){this.canvasClip.render(a);a.clip()}},_renderTransform:function(a){if("canvasTransform"in this){var b=this.canvasTransform;a.translate(b.dx,b.dy);
a.rotate(b.angle2);a.scale(b.sx,b.sy);a.rotate(b.angle1)}},_renderShape:function(){},_renderFill:function(a,b){if("canvasFill"in this){var e=this.fillStyle;if("canvasFillImage"in this){var c=e.width,g=e.height,x=this.canvasFillImage.width,w=this.canvasFillImage.height,o=Math.min(c==x?1:c/x,g==w?1:g/w),i=(c-o*x)/2,n=(g-o*w)/2;t.width=c;t.height=g;var k=t.getContext("2d");k.clearRect(0,0,c,g);k.drawImage(this.canvasFillImage,0,0,x,w,i,n,o*x,o*w);this.canvasFill=a.createPattern(t,"repeat");delete this.canvasFillImage}a.fillStyle=
this.canvasFill;if(b){e.type==="pattern"&&(e.x!==0||e.y!==0)&&a.translate(e.x,e.y);a.fill()}}else a.fillStyle="rgba(0,0,0,0.0)"},_renderStroke:function(a,b){var e=this.strokeStyle;if(e){a.strokeStyle=e.color.toString();a.lineWidth=e.width;a.lineCap=e.cap;if(typeof e.join=="number"){a.lineJoin="miter";a.miterLimit=e.join}else a.lineJoin=e.join;b&&a.stroke()}else if(!b)a.strokeStyle="rgba(0,0,0,0.0)"},getEventSource:function(){return null},connect:function(){},disconnect:function(){},canvasClip:null,
setClip:function(a){this.inherited(arguments);var b=a?"width"in a?"rect":"cx"in a?"ellipse":"points"in a?"polyline":"d"in a?"path":null:null;if(a&&!b)return this;this.canvasClip=a?Y(b,a):null;this.surface.makeDirty();return this}});var Y=function(a,e){switch(a){case "ellipse":return{canvasEllipse:w(e),render:function(a){return b.Ellipse.prototype._renderShape.call(this,a)}};case "rect":return{shape:r.delegate(e,{r:0}),render:function(a){return b.Rect.prototype._renderShape.call(this,a)}};case "path":return{canvasPath:C(e),
render:function(a){this.canvasPath._renderShape(a)}};case "polyline":return{canvasPolyline:e.points,render:function(a){return b.Polyline.prototype._renderShape.call(this,a)}}}return null},C=function(a){var b=new dojox.gfx.canvas.Path;b.canvasPath=[];b._setPath(a.d);return b},I=function(a,b,e){var c=a.prototype[b];a.prototype[b]=e?function(){this.surface.makeDirty();c.apply(this,arguments);e.call(this);return this}:function(){this.surface.makeDirty();return c.apply(this,arguments)}};I(b.Shape,"setTransform",
function(){this.matrix?this.canvasTransform=m.decompose(this.matrix):delete this.canvasTransform});I(b.Shape,"setFill",function(){var a=this.fillStyle,b;if(a){if(typeof a=="object"&&"type"in a){var e=this.surface.rawNode.getContext("2d");switch(a.type){case "linear":case "radial":b=a.type=="linear"?e.createLinearGradient(a.x1,a.y1,a.x2,a.y2):e.createRadialGradient(a.cx,a.cy,0,a.cx,a.cy,a.r);p.forEach(a.colors,function(a){b.addColorStop(a.offset,m.normalizeColor(a.color).toString())});break;case "pattern":t||
(t=document.createElement("canvas"));e=new Image;this.surface.downloadImage(e,a.src);this.canvasFillImage=e}}else b=a.toString();this.canvasFill=b}else delete this.canvasFill});I(b.Shape,"setStroke");I(b.Shape,"setShape");b.Group=u("dojox.gfx.canvas.Group",b.Shape,{constructor:function(){k.Container._init.call(this)},_render:function(a){a.save();this._renderTransform(a);this._renderClip(a);for(var b=0;b<this.children.length;++b)this.children[b]._render(a);a.restore()},destroy:function(){this.clear(true);
b.Shape.prototype.destroy.apply(this,arguments)}});b.Rect=u("dojox.gfx.canvas.Rect",[b.Shape,k.Rect],{_renderShape:function(a){var b=this.shape,c=Math.min(b.r,b.height/2,b.width/2),g=b.x,x=g+b.width,w=b.y,b=w+b.height,o=g+c,i=x-c,n=w+c,k=b-c;a.beginPath();a.moveTo(o,w);if(c){a.arc(i,n,c,-H,0,false);a.arc(i,k,c,0,H,false);a.arc(o,k,c,H,e,false);a.arc(o,n,c,e,e+H,false)}else{a.lineTo(i,w);a.lineTo(x,k);a.lineTo(o,b);a.lineTo(g,n)}a.closePath()}});var D=[];(function(){var a=n.curvePI4;D.push(a.s,a.c1,
a.c2,a.e);for(var b=45;b<360;b=b+45){var e=v.rotateg(b);D.push(o(e,a.c1),o(e,a.c2),o(e,a.e))}})();var w=function(a){var b,e,c=[],g=v.normalize([v.translate(a.cx,a.cy),v.scale(a.rx,a.ry)]),a=o(g,D[0]);c.push([a.x,a.y]);for(var w=1;w<D.length;w=w+3){b=o(g,D[w]);e=o(g,D[w+1]);a=o(g,D[w+2]);c.push([b.x,b.y,e.x,e.y,a.x,a.y])}return c};b.Ellipse=u("dojox.gfx.canvas.Ellipse",[b.Shape,k.Ellipse],{setShape:function(){this.inherited(arguments);this.canvasEllipse=w(this.shape);return this},_renderShape:function(a){var b=
this.canvasEllipse;a.beginPath();a.moveTo.apply(a,b[0]);for(var e=1;e<b.length;++e)a.bezierCurveTo.apply(a,b[e]);a.closePath()}});b.Circle=u("dojox.gfx.canvas.Circle",[b.Shape,k.Circle],{_renderShape:function(a){var b=this.shape;a.beginPath();a.arc(b.cx,b.cy,b.r,0,x,1)}});b.Line=u("dojox.gfx.canvas.Line",[b.Shape,k.Line],{_renderShape:function(a){var b=this.shape;a.beginPath();a.moveTo(b.x1,b.y1);a.lineTo(b.x2,b.y2)}});b.Polyline=u("dojox.gfx.canvas.Polyline",[b.Shape,k.Polyline],{setShape:function(){this.inherited(arguments);
var a=this.shape.points,b=a[0],e,c;this.bbox=null;this._normalizePoints();if(a.length)if(typeof b=="number")b=a;else{b=[];for(c=0;c<a.length;++c){e=a[c];b.push(e.x,e.y)}}else b=[];this.canvasPolyline=b;return this},_renderShape:function(a){var b=this.canvasPolyline;if(b.length){a.beginPath();a.moveTo(b[0],b[1]);for(var e=2;e<b.length;e=e+2)a.lineTo(b[e],b[e+1])}}});b.Image=u("dojox.gfx.canvas.Image",[b.Shape,k.Image],{setShape:function(){this.inherited(arguments);var a=new Image;this.surface.downloadImage(a,
this.shape.src);this.canvasImage=a;return this},_renderShape:function(a){var b=this.shape;a.drawImage(this.canvasImage,b.x,b.y,b.width,b.height)}});b.Text=u("dojox.gfx.canvas.Text",[b.Shape,k.Text],{_setFont:function(){this.fontStyle?this.canvasFont=m.makeFontString(this.fontStyle):delete this.canvasFont},getTextWidth:function(){var a=this.shape,b=0,e;if(a.text&&a.text.length>0){e=this.surface.rawNode.getContext("2d");e.save();this._renderTransform(e);this._renderFill(e,false);this._renderStroke(e,
false);if(this.canvasFont)e.font=this.canvasFont;b=e.measureText(a.text).width;e.restore()}return b},_render:function(a){a.save();this._renderTransform(a);this._renderFill(a,false);this._renderStroke(a,false);this._renderShape(a);a.restore()},_renderShape:function(a){var b,e=this.shape;if(e.text&&e.text.length!=0){b=e.align==="middle"?"center":e.align;a.textAlign=b;if(this.canvasFont)a.font=this.canvasFont;this.canvasFill&&a.fillText(e.text,e.x,e.y);if(this.strokeStyle){a.beginPath();a.strokeText(e.text,
e.x,e.y);a.closePath()}}}});I(b.Text,"setFont");if(l.global.CanvasRenderingContext2D)(l=l.doc.createElement("canvas").getContext("2d"))&&typeof l.fillText!="function"&&b.Text.extend({getTextWidth:function(){return 0},_renderShape:function(){}});var T={M:"_moveToA",m:"_moveToR",L:"_lineToA",l:"_lineToR",H:"_hLineToA",h:"_hLineToR",V:"_vLineToA",v:"_vLineToR",C:"_curveToA",c:"_curveToR",S:"_smoothCurveToA",s:"_smoothCurveToR",Q:"_qCurveToA",q:"_qCurveToR",T:"_qSmoothCurveToA",t:"_qSmoothCurveToR",A:"_arcTo",
a:"_arcTo",Z:"_closePath",z:"_closePath"};b.Path=u("dojox.gfx.canvas.Path",[b.Shape,a.Path],{constructor:function(){this.lastControl={}},setShape:function(){this.canvasPath=[];return this.inherited(arguments)},_updateWithSegment:function(a){var b=r.clone(this.last);this[T[a.action]](this.canvasPath,a.action,a.args);this.last=b;this.inherited(arguments)},_renderShape:function(a){var b=this.canvasPath;a.beginPath();for(var e=0;e<b.length;e=e+2)a[b[e]].apply(a,b[e+1])},_moveToA:function(a,b,e){a.push("moveTo",
[e[0],e[1]]);for(b=2;b<e.length;b=b+2)a.push("lineTo",[e[b],e[b+1]]);this.last.x=e[e.length-2];this.last.y=e[e.length-1];this.lastControl={}},_moveToR:function(a,b,e){"x"in this.last?a.push("moveTo",[this.last.x=this.last.x+e[0],this.last.y=this.last.y+e[1]]):a.push("moveTo",[this.last.x=e[0],this.last.y=e[1]]);for(b=2;b<e.length;b=b+2)a.push("lineTo",[this.last.x=this.last.x+e[b],this.last.y=this.last.y+e[b+1]]);this.lastControl={}},_lineToA:function(a,b,e){for(b=0;b<e.length;b=b+2)a.push("lineTo",
[e[b],e[b+1]]);this.last.x=e[e.length-2];this.last.y=e[e.length-1];this.lastControl={}},_lineToR:function(a,b,e){for(b=0;b<e.length;b=b+2)a.push("lineTo",[this.last.x=this.last.x+e[b],this.last.y=this.last.y+e[b+1]]);this.lastControl={}},_hLineToA:function(a,b,e){for(b=0;b<e.length;++b)a.push("lineTo",[e[b],this.last.y]);this.last.x=e[e.length-1];this.lastControl={}},_hLineToR:function(a,b,e){for(b=0;b<e.length;++b)a.push("lineTo",[this.last.x=this.last.x+e[b],this.last.y]);this.lastControl={}},_vLineToA:function(a,
b,e){for(b=0;b<e.length;++b)a.push("lineTo",[this.last.x,e[b]]);this.last.y=e[e.length-1];this.lastControl={}},_vLineToR:function(a,b,e){for(b=0;b<e.length;++b)a.push("lineTo",[this.last.x,this.last.y=this.last.y+e[b]]);this.lastControl={}},_curveToA:function(a,b,e){for(b=0;b<e.length;b=b+6)a.push("bezierCurveTo",e.slice(b,b+6));this.last.x=e[e.length-2];this.last.y=e[e.length-1];this.lastControl.x=e[e.length-4];this.lastControl.y=e[e.length-3];this.lastControl.type="C"},_curveToR:function(a,b,e){for(b=
0;b<e.length;b=b+6){a.push("bezierCurveTo",[this.last.x+e[b],this.last.y+e[b+1],this.lastControl.x=this.last.x+e[b+2],this.lastControl.y=this.last.y+e[b+3],this.last.x+e[b+4],this.last.y+e[b+5]]);this.last.x=this.last.x+e[b+4];this.last.y=this.last.y+e[b+5]}this.lastControl.type="C"},_smoothCurveToA:function(a,b,e){for(b=0;b<e.length;b=b+4){var c=this.lastControl.type=="C";a.push("bezierCurveTo",[c?2*this.last.x-this.lastControl.x:this.last.x,c?2*this.last.y-this.lastControl.y:this.last.y,e[b],e[b+
1],e[b+2],e[b+3]]);this.lastControl.x=e[b];this.lastControl.y=e[b+1];this.lastControl.type="C"}this.last.x=e[e.length-2];this.last.y=e[e.length-1]},_smoothCurveToR:function(a,b,e){for(b=0;b<e.length;b=b+4){var c=this.lastControl.type=="C";a.push("bezierCurveTo",[c?2*this.last.x-this.lastControl.x:this.last.x,c?2*this.last.y-this.lastControl.y:this.last.y,this.last.x+e[b],this.last.y+e[b+1],this.last.x+e[b+2],this.last.y+e[b+3]]);this.lastControl.x=this.last.x+e[b];this.lastControl.y=this.last.y+e[b+
1];this.lastControl.type="C";this.last.x=this.last.x+e[b+2];this.last.y=this.last.y+e[b+3]}},_qCurveToA:function(a,b,e){for(b=0;b<e.length;b=b+4)a.push("quadraticCurveTo",e.slice(b,b+4));this.last.x=e[e.length-2];this.last.y=e[e.length-1];this.lastControl.x=e[e.length-4];this.lastControl.y=e[e.length-3];this.lastControl.type="Q"},_qCurveToR:function(a,b,e){for(b=0;b<e.length;b=b+4){a.push("quadraticCurveTo",[this.lastControl.x=this.last.x+e[b],this.lastControl.y=this.last.y+e[b+1],this.last.x+e[b+
2],this.last.y+e[b+3]]);this.last.x=this.last.x+e[b+2];this.last.y=this.last.y+e[b+3]}this.lastControl.type="Q"},_qSmoothCurveToA:function(a,b,e){for(b=0;b<e.length;b=b+2){var c=this.lastControl.type=="Q";a.push("quadraticCurveTo",[this.lastControl.x=c?2*this.last.x-this.lastControl.x:this.last.x,this.lastControl.y=c?2*this.last.y-this.lastControl.y:this.last.y,e[b],e[b+1]]);this.lastControl.type="Q"}this.last.x=e[e.length-2];this.last.y=e[e.length-1]},_qSmoothCurveToR:function(a,b,e){for(b=0;b<e.length;b=
b+2){var c=this.lastControl.type=="Q";a.push("quadraticCurveTo",[this.lastControl.x=c?2*this.last.x-this.lastControl.x:this.last.x,this.lastControl.y=c?2*this.last.y-this.lastControl.y:this.last.y,this.last.x+e[b],this.last.y+e[b+1]]);this.lastControl.type="Q";this.last.x=this.last.x+e[b];this.last.y=this.last.y+e[b+1]}},_arcTo:function(a,b,e){for(var b=b=="a",c=0;c<e.length;c=c+7){var g=e[c+5],w=e[c+6];if(b){g=g+this.last.x;w=w+this.last.y}var x=n.arcAsBezier(this.last,e[c],e[c+1],e[c+2],e[c+3]?
1:0,e[c+4]?1:0,g,w);p.forEach(x,function(b){a.push("bezierCurveTo",b)});this.last.x=g;this.last.y=w}this.lastControl={}},_closePath:function(a){a.push("closePath",[]);this.lastControl={}}});p.forEach(["moveTo","lineTo","hLineTo","vLineTo","curveTo","smoothCurveTo","qCurveTo","qSmoothCurveTo","arcTo","closePath"],function(a){I(b.Path,a)});b.TextPath=u("dojox.gfx.canvas.TextPath",[b.Shape,a.TextPath],{_renderShape:function(){},_setText:function(){},_setFont:function(){}});b.Surface=u("dojox.gfx.canvas.Surface",
k.Surface,{constructor:function(){k.Container._init.call(this);this.pendingImageCount=0;this.makeDirty()},destroy:function(){k.Container.clear.call(this,true);this.inherited(arguments)},setDimensions:function(a,b){this.width=m.normalizedLength(a);this.height=m.normalizedLength(b);if(!this.rawNode)return this;var e=false;if(this.rawNode.width!=this.width){this.rawNode.width=this.width;e=true}if(this.rawNode.height!=this.height){this.rawNode.height=this.height;e=true}e&&this.makeDirty();return this},
getDimensions:function(){return this.rawNode?{width:this.rawNode.width,height:this.rawNode.height}:null},_render:function(a){if(a||!this.pendingImageCount){a=this.rawNode.getContext("2d");a.clearRect(0,0,this.rawNode.width,this.rawNode.height);this.render(a);if("pendingRender"in this){clearTimeout(this.pendingRender);delete this.pendingRender}}},render:function(a){a.save();for(var b=0;b<this.children.length;++b)this.children[b]._render(a);a.restore()},makeDirty:function(){if(!this.pendingImagesCount&&
!("pendingRender"in this))this.pendingRender=setTimeout(r.hitch(this,this._render),0)},downloadImage:function(a,b){var e=r.hitch(this,this.onImageLoad);if(!this.pendingImageCount++&&"pendingRender"in this){clearTimeout(this.pendingRender);delete this.pendingRender}a.onload=e;a.onerror=e;a.onabort=e;a.src=b},onImageLoad:function(){if(!--this.pendingImageCount){this.onImagesLoaded();this._render()}},onImagesLoaded:function(){},getEventSource:function(){return null},connect:function(){},disconnect:function(){}});
b.createSurface=function(a,e,g){if(!e&&!g)var w=c.position(a),e=e||w.w,g=g||w.h;typeof e=="number"&&(e=e+"px");typeof g=="number"&&(g=g+"px");var w=new b.Surface,a=i.byId(a),x=a.ownerDocument.createElement("canvas");x.width=m.normalizedLength(e);x.height=m.normalizedLength(g);a.appendChild(x);w.rawNode=x;w._parent=a;return w.surface=w};var K=k.Container,u={add:function(a){this.surface.makeDirty();return K.add.apply(this,arguments)},remove:function(a,b){this.surface.makeDirty();return K.remove.apply(this,
arguments)},clear:function(){this.surface.makeDirty();return K.clear.apply(this,arguments)},getBoundingBox:K.getBoundingBox,_moveChildToFront:function(a){this.surface.makeDirty();return K._moveChildToFront.apply(this,arguments)},_moveChildToBack:function(a){this.surface.makeDirty();return K._moveChildToBack.apply(this,arguments)}},a={createObject:function(a,b){var e=new a;e.surface=this.surface;e.setShape(b);this.add(e);return e}};g(b.Group,u);g(b.Group,k.Creator);g(b.Group,a);g(b.Surface,u);g(b.Surface,
k.Creator);g(b.Surface,a);b.fixTarget=function(){return true};return b})},"dojox/gfx/gradutils":function(){define("dojox/gfx/gradutils",["./_base","dojo/_base/lang","./matrix","dojo/_base/Color"],function(m,r,p,u){function l(c,i){if(0>=c)return i[0].color;var g=i.length;if(1<=c)return i[g-1].color;for(var k=0;k<g;++k){var a=i[k];if(a.offset>=c)return k?(g=i[k-1],u.blendColors(new u(g.color),new u(a.color),(c-g.offset)/(a.offset-g.offset))):a.color}return i[g-1].color}m=m.gradutils={};m.getColor=function(c,
i){var g;if(c){switch(c.type){case "linear":g=Math.atan2(c.y2-c.y1,c.x2-c.x1);g=p.rotate(-g);var k=p.project(c.x2-c.x1,c.y2-c.y1),a=p.multiplyPoint(k,i),n=p.multiplyPoint(k,c.x1,c.y1),k=p.multiplyPoint(k,c.x2,c.y2),k=p.multiplyPoint(g,k.x-n.x,k.y-n.y).x;g=p.multiplyPoint(g,a.x-n.x,a.y-n.y).x/k;break;case "radial":g=i.x-c.cx,a=i.y-c.cy,g=Math.sqrt(g*g+a*a)/c.r}return l(g,c.colors)}return new u(c||[0,0,0,0])};m.reverse=function(c){if(c)switch(c.type){case "linear":case "radial":if(c=r.delegate(c),c.colors){for(var i=
c.colors,g=i.length,k=0,a,n=c.colors=Array(i.length);k<g;++k)a=i[k],n[k]={offset:1-a.offset,color:a.color};n.sort(function(a,b){return a.offset-b.offset})}}return c};return m})},"dojox/gfx/_gfxBidiSupport":function(){define("dojox/gfx/_gfxBidiSupport","./_base dojo/_base/lang dojo/_base/sniff dojo/dom dojo/_base/html dojo/_base/array ./utils ./shape dojox/string/BidiEngine".split(" "),function(m,r,p,u,l,c,i,g,k){function a(a,c){var g=n(c);g&&m.utils.forEach(a,function(a){if(a instanceof m.Surface||
a instanceof m.Group)a.textDir=g;a instanceof m.Text&&a.setShape({textDir:g});a instanceof m.TextPath&&a.setText({textDir:g})},a);return a}function n(a){var g=["ltr","rtl","auto"];if(a){a=a.toLowerCase();if(c.indexOf(g,a)<0)return null}return a}r.getObject("dojox.gfx._gfxBidiSupport",true);switch(m.renderer){case "vml":m.isVml=true;break;case "svg":m.isSvg=true;if(m.svg.useSvgWeb)m.isSvgWeb=true;break;case "silverlight":m.isSilverlight=true;break;case "canvas":m.isCanvas=true}var v=new k;r.extend(m.shape.Surface,
{textDir:"",setTextDir:function(b){a(this,b)},getTextDir:function(){return this.textDir}});r.extend(m.Group,{textDir:"",setTextDir:function(b){a(this,b)},getTextDir:function(){return this.textDir}});r.extend(m.Text,{textDir:"",formatText:function(a,c){if(c&&a&&a.length>1){var g="ltr",e=c;if(e=="auto"){if(m.isVml)return a;e=v.checkContextual(a)}if(m.isVml){g=v.checkContextual(a);return e!=g?e=="rtl"?!v.hasBidiChar(a)?v.bidiTransform(a,"IRNNN","ILNNN"):"\u200f\u200f"+a:"\u200e"+a:a}if(m.isSvgWeb)return e==
"rtl"?v.bidiTransform(a,"IRNNN","ILNNN"):a;if(m.isSilverlight)return e=="rtl"?v.bidiTransform(a,"IRNNN","VLYNN"):v.bidiTransform(a,"ILNNN","VLYNN");if(m.isCanvas)return e=="rtl"?"\u202b"+a+"\u202c":"\u202a"+a+"\u202c";if(m.isSvg)return p("ff")<4?e=="rtl"?v.bidiTransform(a,"IRYNN","VLNNN"):v.bidiTransform(a,"ILYNN","VLNNN"):"\u200e"+(e=="rtl"?"\u202b":"\u202a")+a+"\u202c"}return a},bidiPreprocess:function(a){return a}});r.extend(m.TextPath,{textDir:"",formatText:function(a,c){if(c&&a&&a.length>1){var g=
"ltr",e=c;if(e=="auto"){if(m.isVml)return a;e=v.checkContextual(a)}if(m.isVml){g=v.checkContextual(a);return e!=g?e=="rtl"?!v.hasBidiChar(a)?v.bidiTransform(a,"IRNNN","ILNNN"):"\u200f\u200f"+a:"\u200e"+a:a}if(m.isSvgWeb)return e=="rtl"?v.bidiTransform(a,"IRNNN","ILNNN"):a;m.isSvg&&(a=p("opera")||p("ff")>=4?"\u200e"+(e=="rtl"?"\u202b":"\u202a")+a+"\u202c":e=="rtl"?v.bidiTransform(a,"IRYNN","VLNNN"):v.bidiTransform(a,"ILYNN","VLNNN"))}return a},bidiPreprocess:function(a){if(a&&typeof a=="string"){this.origText=
a;a=this.formatText(a,this.textDir)}return a}});i=function(a,c,g,e){var x=a.prototype[c];a.prototype[c]=function(){var a;g&&(a=g.apply(this,arguments));a=x.call(this,a);e&&(a=e.call(this,a,arguments));return a}};g=function(a){if(a){if(a.textDir)a.textDir=n(a.textDir);if(a.text&&a.text instanceof Array)a.text=a.text.join(",")}if(a&&(a.text!=void 0||a.textDir)&&(this.textDir!=a.textDir||a.text!=this.origText)){this.origText=a.text!=void 0?a.text:this.origText;if(a.textDir)this.textDir=a.textDir;a.text=
this.formatText(this.origText,this.textDir)}return this.bidiPreprocess(a)};i(m.Text,"setShape",g,null);i(m.TextPath,"setText",g,null);g=function(a){if((a=r.clone(a))&&this.origText)a.text=this.origText;return a};i(m.Text,"getShape",null,g);i(m.TextPath,"getText",null,g);g=function(a,c){var g;c&&c[0]&&(g=n(c[0]));a.setTextDir(g?g:this.textDir);return a};i(m.Surface,"createGroup",null,g);i(m.Group,"createGroup",null,g);g=function(a){if(a){var c=a.textDir?n(a.textDir):this.textDir;if(c)a.textDir=c}return a};
i(m.Surface,"createText",g,null);i(m.Surface,"createTextPath",g,null);i(m.Group,"createText",g,null);i(m.Group,"createTextPath",g,null);m.createSurface=function(a,c,g,e){c=m[m.renderer].createSurface(a,c,g);e=n(e);if(m.isSvgWeb){c.textDir=e?e:l.style(u.byId(a),"direction");return c}if(m.isVml||m.isSvg||m.isCanvas)c.textDir=e?e:l.style(c.rawNode,"direction");if(m.isSilverlight)c.textDir=e?e:l.style(c._nodes[1],"direction");return c};return m})},"dojox/gfx/fx":function(){define("dojox/gfx/fx","dojo/_base/lang ./_base ./matrix dojo/_base/Color dojo/_base/array dojo/_base/fx dojo/_base/connect".split(" "),
function(m,r,p,u,l,c,i){function g(a,e){this.start=a;this.end=e}function k(a,e,b){this.start=a;this.end=e;this.units=b}function a(a,e){this.start=a;this.end=e;this.temp=new u}function n(a){this.values=a;this.length=a.length}function v(a,e){this.values=a;this.def=e?e:{}}function b(a,e){this.stack=a;this.original=e}function t(e,b,c,g){if(e.values)return new n(e.values);var i,o;o=e.start?r.normalizeColor(e.start):i=b?c?b[c]:b:g;if(e.end)e=r.normalizeColor(e.end);else{i||(i=b?c?b[c]:b:g);e=i}return new a(o,
e)}var o=r.fx={};g.prototype.getValue=function(a){return(this.end-this.start)*a+this.start};k.prototype.getValue=function(a){return(this.end-this.start)*a+this.start+this.units};a.prototype.getValue=function(a){return u.blendColors(this.start,this.end,a,this.temp)};n.prototype.getValue=function(a){return this.values[Math.min(Math.floor(a*this.length),this.length-1)]};v.prototype.getValue=function(a){var e=m.clone(this.def),b;for(b in this.values)e[b]=this.values[b].getValue(a);return e};b.prototype.getValue=
function(a){var e=[];l.forEach(this.stack,function(b){if(b instanceof p.Matrix2D)e.push(b);else if(b.name=="original"&&this.original)e.push(this.original);else if(b.name=="matrix"){if(b.start instanceof p.Matrix2D&&b.end instanceof p.Matrix2D){var c=new p.Matrix2D,g;for(g in b.start)c[g]=(b.end[g]-b.start[g])*a+b.start[g];e.push(c)}}else if(b.name in p){c=p[b.name];if(typeof c!="function")e.push(c);else{g=l.map(b.start,function(e,c){return(b.end[c]-e)*a+e});c=c.apply(p,g);c instanceof p.Matrix2D&&
e.push(c)}}},this);return e};var e=new u(0,0,0,0);o.animateStroke=function(a){if(!a.easing)a.easing=c._defaultEasing;var b=new c.Animation(a),o=a.shape,k;i.connect(b,"beforeBegin",b,function(){k=o.getStroke();var b=a.color,c={},w;if(b)c.color=t(b,k,"color",e);if((b=a.style)&&b.values)c.style=new n(b.values);if(b=a.width){var i=b;if(i.values)w=new n(i.values);else{b=i.start?i.start:w=k?k.width:1;i.end?w=i.end:typeof w!="number"&&(w=k?k.width:1);w=new g(b,w)}c.width=w}if((b=a.cap)&&b.values)c.cap=new n(b.values);
if(b=a.join)if(b.values)c.join=new n(b.values);else{w=b.start?b.start:k&&k.join||0;b=b.end?b.end:k&&k.join||0;if(typeof w=="number"&&typeof b=="number")c.join=new g(w,b)}this.curve=new v(c,k)});i.connect(b,"onAnimate",o,"setStroke");return b};o.animateFill=function(a){if(!a.easing)a.easing=c._defaultEasing;var b=new c.Animation(a),g=a.shape,o;i.connect(b,"beforeBegin",b,function(){o=g.getFill();var b=a.color;if(b)this.curve=t(b,o,"",e)});i.connect(b,"onAnimate",g,"setFill");return b};o.animateFont=
function(a){if(!a.easing)a.easing=c._defaultEasing;var e=new c.Animation(a),b=a.shape,g;i.connect(e,"beforeBegin",e,function(){g=b.getFont();var e=a.style,c={},w,i;if(e&&e.values)c.style=new n(e.values);if((e=a.variant)&&e.values)c.variant=new n(e.values);if((e=a.weight)&&e.values)c.weight=new n(e.values);if((e=a.family)&&e.values)c.family=new n(e.values);if((e=a.size)&&e.units){w=parseFloat(e.start?e.start:b.font&&b.font.size||"0");i=parseFloat(e.end?e.end:b.font&&b.font.size||"0");c.size=new k(w,
i,e.units)}this.curve=new v(c,g)});i.connect(e,"onAnimate",b,"setFont");return e};o.animateTransform=function(a){if(!a.easing)a.easing=c._defaultEasing;var e=new c.Animation(a),g=a.shape,o;i.connect(e,"beforeBegin",e,function(){o=g.getTransform();this.curve=new b(a.transform,o)});i.connect(e,"onAnimate",g,"setTransform");return e};return o})},"dojox/gfx/utils":function(){define("dojox/gfx/utils","dojo/_base/kernel dojo/_base/lang ./_base dojo/_base/html dojo/_base/array dojo/_base/window dojo/_base/json dojo/_base/Deferred dojo/_base/sniff require dojo/_base/config".split(" "),
function(m,r,p,u,l,c,i,g,k,a,n){var v=p.utils={};r.mixin(v,{forEach:function(a,c,g){g=g||m.global;c.call(g,a);(a instanceof p.Surface||a instanceof p.Group)&&l.forEach(a.children,function(a){v.forEach(a,c,g)})},serialize:function(a){var c={},g;if((g=a instanceof p.Surface)||a instanceof p.Group){c.children=l.map(a.children,v.serialize);if(g)return c.children}else c.shape=a.getShape();if(a.getTransform)if(g=a.getTransform())c.transform=g;if(a.getStroke)if(g=a.getStroke())c.stroke=g;if(a.getFill)if(g=
a.getFill())c.fill=g;if(a.getFont)if(g=a.getFont())c.font=g;return c},toJson:function(a,c){return i.toJson(v.serialize(a),c)},deserialize:function(a,c){if(c instanceof Array)return l.map(c,r.hitch(null,v.deserialize,a));var g="shape"in c?a.createShape(c.shape):a.createGroup();"transform"in c&&g.setTransform(c.transform);"stroke"in c&&g.setStroke(c.stroke);"fill"in c&&g.setFill(c.fill);"font"in c&&g.setFont(c.font);"children"in c&&l.forEach(c.children,r.hitch(null,v.deserialize,g));return g},fromJson:function(a,
c){return v.deserialize(a,i.fromJson(c))},toSvg:function(a){var i=new g;if(p.renderer==="svg")try{var k=v._cleanSvg(v._innerXML(a.rawNode));i.callback(k)}catch(e){i.errback(e)}else{v._initSvgSerializerDeferred||v._initSvgSerializer();var n=v.toJson(a),k=function(){try{var e=a.getDimensions(),g=e.width,k=e.height,o=v._gfxSvgProxy.document.createElement("div");v._gfxSvgProxy.document.body.appendChild(o);c.withDoc(v._gfxSvgProxy.document,function(){u.style(o,"width",g);u.style(o,"height",k)},this);v._gfxSvgProxy[dojox._scopeName].gfx.createSurface(o,
g,k).whenLoaded(null,function(a){try{v._gfxSvgProxy[dojox._scopeName].gfx.utils.fromJson(a,n);var e=v._cleanSvg(o.innerHTML);a.clear();a.destroy();v._gfxSvgProxy.document.body.removeChild(o);i.callback(e)}catch(b){i.errback(b)}})}catch(l){i.errback(l)}};v._initSvgSerializerDeferred.fired>0?k():v._initSvgSerializerDeferred.addCallback(k)}return i},_gfxSvgProxy:null,_initSvgSerializerDeferred:null,_svgSerializerInitialized:function(){v._initSvgSerializerDeferred.callback(true)},_initSvgSerializer:function(){if(!v._initSvgSerializerDeferred){v._initSvgSerializerDeferred=
new g;var b=c.doc.createElement("iframe");u.style(b,{display:"none",position:"absolute",width:"1em",height:"1em",top:"-10000px"});var i;k("ie")?b.onreadystatechange=function(){if(b.contentWindow.document.readyState=="complete"){b.onreadystatechange=function(){};i=setInterval(function(){if(b.contentWindow[m.scopeMap.dojo[1]._scopeName]&&b.contentWindow[m.scopeMap.dojox[1]._scopeName].gfx&&b.contentWindow[m.scopeMap.dojox[1]._scopeName].gfx.utils){clearInterval(i);b.contentWindow.parent[m.scopeMap.dojox[1]._scopeName].gfx.utils._gfxSvgProxy=
b.contentWindow;b.contentWindow.parent[m.scopeMap.dojox[1]._scopeName].gfx.utils._svgSerializerInitialized()}},50)}}:b.onload=function(){b.onload=function(){};i=setInterval(function(){if(b.contentWindow[m.scopeMap.dojo[1]._scopeName]&&b.contentWindow[m.scopeMap.dojox[1]._scopeName].gfx&&b.contentWindow[m.scopeMap.dojox[1]._scopeName].gfx.utils){clearInterval(i);b.contentWindow.parent[m.scopeMap.dojox[1]._scopeName].gfx.utils._gfxSvgProxy=b.contentWindow;b.contentWindow.parent[m.scopeMap.dojox[1]._scopeName].gfx.utils._svgSerializerInitialized()}},
50)};var o=n.dojoxGfxSvgProxyFrameUrl||a.toUrl("dojox/gfx/resources/gfxSvgProxyFrame.html");b.setAttribute("src",o.toString());c.body().appendChild(b)}},_innerXML:function(a){return a.innerXML?a.innerXML:a.xml?a.xml:typeof XMLSerializer!="undefined"?(new XMLSerializer).serializeToString(a):null},_cleanSvg:function(a){if(a){if(a.indexOf('xmlns="http://www.w3.org/2000/svg"')==-1){a=a.substring(4,a.length);a='<svg xmlns="http://www.w3.org/2000/svg"'+a}if(a.indexOf('xmlns:xlink="http://www.w3.org/1999/xlink"')==
-1){a=a.substring(4,a.length);a='<svg xmlns:xlink="http://www.w3.org/1999/xlink"'+a}a.indexOf("xlink:href")===-1&&(a=a.replace(/href\s*=/g,"xlink:href="));a=a.replace(/<img\b([^>]*)>/gi,"<image $1 />");a=a.replace(/\bdojoGfx\w*\s*=\s*(['"])\w*\1/g,"");a=a.replace(/\b__gfxObject__\s*=\s*(['"])\w*\1/g,"");a=a.replace(/[=]([^"']+?)(\s|>)/g,'="$1"$2')}return a}});return v})},"dojox/gfx/_base":function(){define("dojox/gfx/_base","dojo/_base/kernel dojo/_base/lang dojo/_base/Color dojo/_base/sniff dojo/_base/window dojo/_base/array dojo/dom dojo/dom-construct dojo/dom-geometry".split(" "),
function(m,r,p,u,l,c,i,g,k){var a=r.getObject("dojox.gfx",true),n=a._base={};a._hasClass=function(a,b){var c=a.getAttribute("className");return c&&(" "+c+" ").indexOf(" "+b+" ")>=0};a._addClass=function(a,b){var c=a.getAttribute("className")||"";if(!c||(" "+c+" ").indexOf(" "+b+" ")<0)a.setAttribute("className",c+(c?" ":"")+b)};a._removeClass=function(a,b){var c=a.getAttribute("className");c&&a.setAttribute("className",c.replace(RegExp("(^|\\s+)"+b+"(\\s+|$)"),"$1$2"))};n._getFontMeasurements=function(){var a=
{"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,large:0,"x-large":0,"xx-large":0},b;if(u("ie"))l.doc.documentElement.style.fontSize="100%";var c=g.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},l.body());for(b in a){c.style.fontSize=b;a[b]=Math.round(c.offsetHeight*12/16)*16/12/1E3}l.body().removeChild(c);return a};var v=null;n._getCachedFontMeasurements=
function(a){if(a||!v)v=n._getFontMeasurements();return v};var b=null,t={};n._getTextBox=function(a,c,i){var n,o,p=arguments.length,m;b||(b=g.create("div",{style:{position:"absolute",top:"-10000px",left:"0"}},l.body()));n=b;n.className="";o=n.style;o.borderWidth="0";o.margin="0";o.padding="0";o.outline="0";if(p>1&&c)for(m in c)m in t||(o[m]=c[m]);if(p>2&&i)n.className=i;n.innerHTML=a;if(n.getBoundingClientRect){n=n.getBoundingClientRect();return{l:n.left,t:n.top,w:n.width||n.right-n.left,h:n.height||
n.bottom-n.top}}return k.getMarginBox(n)};var o=0;n._getUniqueId=function(){var a;do a=m._scopeName+"xUnique"+ ++o;while(i.byId(a));return a};r.mixin(a,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},
defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,
color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:function(){var e={};return function(b){var c=e[b];if(c)return new c;c=e[b]=new Function;c.prototype=a["default"+b];return new c}}(),normalizeColor:function(a){return a instanceof p?a:new p(a)},normalizeParameters:function(a,b){var c;if(b){var g={};for(c in a)c in b&&!(c in g)&&(a[c]=b[c])}return a},makeParameters:function(a,
b){var c=null;if(!b)return r.delegate(a);var g={};for(c in a)c in g||(g[c]=r.clone(c in b?b[c]:a[c]));return g},formatNumber:function(a,b){var c=a.toString();if(c.indexOf("e")>=0)c=a.toFixed(4);else{var g=c.indexOf(".");g>=0&&c.length-g>5&&(c=a.toFixed(4))}return a<0?c:b?" "+c:c},makeFontString:function(a){return a.style+" "+a.variant+" "+a.weight+" "+a.size+" "+a.family},splitFontString:function(e){var b=a.getDefault("Font"),e=e.split(/\s+/);if(!(e.length<5)){b.style=e[0];b.variant=e[1];b.weight=
e[2];var c=e[3].indexOf("/");b.size=c<0?e[3]:e[3].substring(0,c);var g=4;c<0&&(e[4]=="/"?g=6:e[4].charAt(0)=="/"&&(g=5));if(g<e.length)b.family=e.slice(g).join(" ")}return b},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return a._base._getCachedFontMeasurements()["12pt"]/12},pt2px:function(e){return e*a.px_in_pt()},px2pt:function(e){return e/a.px_in_pt()},normalizedLength:function(e){if(e.length===0)return 0;if(e.length>2){var b=a.px_in_pt(),c=parseFloat(e);switch(e.slice(-2)){case "px":return c;
case "pt":return c*b;case "in":return c*72*b;case "pc":return c*12*b;case "mm":return c*a.mm_in_pt*b;case "cm":return c*a.cm_in_pt*b}}return parseFloat(e)},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a===b},switchTo:function(e){var b=typeof e=="string"?a[e]:e;b&&c.forEach(["Group","Rect","Ellipse","Circle","Line","Polyline","Image","Text","Path","TextPath",
"Surface","createSurface","fixTarget"],function(e){a[e]=b[e]})}});return a})},"dojox/gfx/Moveable":function(){define("dojox/gfx/Moveable","dojo/_base/lang dojo/_base/declare dojo/_base/array dojo/_base/event dojo/topic dojo/has dojo/dom-class dojo/_base/window ./Mover".split(" "),function(m,r,p,u,l,c,i,g,k){return r("dojox.gfx.Moveable",null,{constructor:function(a,g){this.shape=a;this.delay=g&&g.delay>0?g.delay:0;this.mover=g&&g.mover?g.mover:k;this.events=[this.shape.connect(c("touch")?"touchstart":
"mousedown",this,"onMouseDown")]},destroy:function(){p.forEach(this.events,this.shape.disconnect,this.shape);this.events=this.shape=null},onMouseDown:function(a){if(this.delay){this.events.push(this.shape.connect(c("touch")?"touchmove":"mousemove",this,"onMouseMove"),this.shape.connect(c("touch")?"touchend":"mouseup",this,"onMouseUp"));this._lastX=c("touch")?(a.changedTouches?a.changedTouches[0]:a).clientX:a.clientX;this._lastY=c("touch")?(a.changedTouches?a.changedTouches[0]:a).clientY:a.clientY}else new this.mover(this.shape,
a,this);u.stop(a)},onMouseMove:function(a){var g=c("touch")?(a.changedTouches?a.changedTouches[0]:a).clientX:a.clientX,i=c("touch")?(a.changedTouches?a.changedTouches[0]:a).clientY:a.clientY;if(Math.abs(g-this._lastX)>this.delay||Math.abs(i-this._lastY)>this.delay){this.onMouseUp(a);new this.mover(this.shape,a,this)}u.stop(a)},onMouseUp:function(){this.shape.disconnect(this.events.pop())},onMoveStart:function(a){l.publish("/gfx/move/start",a);i.add(g.body(),"dojoMove")},onMoveStop:function(a){l.publish("/gfx/move/stop",
a);i.remove(g.body(),"dojoMove")},onFirstMove:function(){},onMove:function(a,c){this.onMoving(a,c);this.shape.applyLeftTransform(c);this.onMoved(a,c)},onMoving:function(){},onMoved:function(){}})})},"dojox/gfx/canvasWithEvents":function(){define("dojox/gfx/canvasWithEvents","dojo/_base/lang dojo/_base/declare dojo/_base/connect dojo/_base/Color dojo/dom dojo/dom-geometry ./_base ./canvas ./shape ./matrix".split(" "),function(m,r,p,u,l,c,i,g,k,a){var n=i.canvasWithEvents={};n.Shape=r("dojox.gfx.canvasWithEvents.Shape",
g.Shape,{_testInputs:function(e,b){if(this.clip||!this.canvasFill&&this.strokeStyle)this._hitTestPixel(e,b);else{this._renderShape(e);for(var c=this.getTransform(),g=0;g<b.length;++g){var i=b[g];if(!i.target){var k=i.x,n=i.y,k=c?a.multiplyPoint(a.invert(c),k,n):{x:k,y:n};i.target=this._hitTestGeometry(e,k.x,k.y)}}}},_hitTestPixel:function(a,b){for(var c=0;c<b.length;++c){var g=b[c];if(!g.target){var i=g.x,k=g.y;a.clearRect(0,0,1,1);a.save();a.translate(-i,-k);this._render(a,true);g.target=a.getImageData(0,
0,1,1).data[0]?this:null;a.restore()}}},_hitTestGeometry:function(a,b,c){return a.isPointInPath(b,c)?this:null},_renderFill:function(a,b){a.pickingMode?"canvasFill"in this&&b&&a.fill():this.inherited(arguments)},_renderStroke:function(a,b){if(this.strokeStyle&&a.pickingMode){var c=this.strokeStyle.color;try{this.strokeStyle.color=new u(a.strokeStyle);this.inherited(arguments)}finally{this.strokeStyle.color=c}}else this.inherited(arguments)},getEventSource:function(){return this.surface.getEventSource()},
connect:function(a,b,c){a.indexOf("mouse")===0?a="on"+a:a.indexOf("ontouch")===0&&(a=a.slice(2));this.surface._setupEvents(a);return arguments.length>2?p.connect(this,a,b,c):p.connect(this,a,b)},disconnect:function(a){p.disconnect(a)},oncontextmenu:function(){},onclick:function(){},ondblclick:function(){},onmouseenter:function(){},onmouseleave:function(){},onmouseout:function(){},onmousedown:function(){},ontouchstart:function(){},touchstart:function(){},onmouseup:function(){},ontouchend:function(){},
touchend:function(){},onmouseover:function(){},onmousemove:function(){},ontouchmove:function(){},touchmove:function(){},onkeydown:function(){},onkeyup:function(){}});n.Group=r("dojox.gfx.canvasWithEvents.Group",[n.Shape,g.Group],{_testInputs:function(b,c){var g=this.children,i=this.getTransform(),k,n;if(g.length!==0){var o=[];for(k=0;k<c.length;++k){n=c[k];o[k]={x:n.x,y:n.y};if(!n.target){var w=n.x,l=n.y,w=i?a.multiplyPoint(a.invert(i),w,l):{x:w,y:l};n.x=w.x;n.y=w.y}}for(k=g.length-1;k>=0;--k){g[k]._testInputs(b,
c);n=true;for(i=0;i<c.length;++i)if(c[i].target==null){n=false;break}if(n)break}if(this.clip)for(k=0;k<c.length;++k){n=c[k];n.x=o[k].x;n.y=o[k].y;if(n.target){b.clearRect(0,0,1,1);b.save();b.translate(-n.x,-n.y);this._render(b,true);if(!b.getImageData(0,0,1,1).data[0])n.target=null;b.restore()}}else for(k=0;k<c.length;++k){c[k].x=o[k].x;c[k].y=o[k].y}}}});n.Image=r("dojox.gfx.canvasWithEvents.Image",[n.Shape,g.Image],{_renderShape:function(a){var b=this.shape;a.pickingMode?a.fillRect(b.x,b.y,b.width,
b.height):this.inherited(arguments)},_hitTestGeometry:function(a,b,c){a=this.shape;return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height?this:null}});n.Text=r("dojox.gfx.canvasWithEvents.Text",[n.Shape,g.Text],{_testInputs:function(a,b){return this._hitTestPixel(a,b)}});n.Rect=r("dojox.gfx.canvasWithEvents.Rect",[n.Shape,g.Rect],{});n.Circle=r("dojox.gfx.canvasWithEvents.Circle",[n.Shape,g.Circle],{});n.Ellipse=r("dojox.gfx.canvasWithEvents.Ellipse",[n.Shape,g.Ellipse],{});n.Line=r("dojox.gfx.canvasWithEvents.Line",
[n.Shape,g.Line],{});n.Polyline=r("dojox.gfx.canvasWithEvents.Polyline",[n.Shape,g.Polyline],{});n.Path=r("dojox.gfx.canvasWithEvents.Path",[n.Shape,g.Path],{});n.TextPath=r("dojox.gfx.canvasWithEvents.TextPath",[n.Shape,g.TextPath],{});var v={onmouseenter:"onmousemove",onmouseleave:"onmousemove",onmouseout:"onmousemove",onmouseover:"onmousemove",touchstart:"ontouchstart",touchend:"ontouchend",touchmove:"ontouchmove"},b={ontouchstart:"touchstart",ontouchend:"touchend",ontouchmove:"touchmove"},t=navigator.userAgent.toLowerCase(),
o=t.search("iphone")>-1||t.search("ipad")>-1||t.search("ipod")>-1;n.Surface=r("dojox.gfx.canvasWithEvents.Surface",g.Surface,{constructor:function(){this._pick={curr:null,last:null};this._pickOfMouseUp=this._pickOfMouseDown=null},connect:function(a,b,c){if(a.indexOf("touch")!==-1){this._setupEvents(a);return p.connect(this,"_on"+a+"Impl_",b,c)}this._initMirrorCanvas();return p.connect(this.getEventSource(),a,null,k.fixCallback(this,i.fixTarget,b,c))},_ontouchstartImpl_:function(){},_ontouchendImpl_:function(){},
_ontouchmoveImpl_:function(){},_initMirrorCanvas:function(){if(!this.mirrorCanvas){var a=this._parent,b=a.ownerDocument.createElement("canvas");b.width=1;b.height=1;b.style.position="absolute";b.style.left="-99999px";b.style.top="-99999px";a.appendChild(b);this.mirrorCanvas=b}},_setupEvents:function(a){a in v&&(a=v[a]);if(!this._eventsH||!this._eventsH[a]){this._initMirrorCanvas();if(!this._eventsH)this._eventsH={};this._eventsH[a]=p.connect(this.getEventSource(),a,k.fixCallback(this,i.fixTarget,
this,"_"+a));if(a==="onclick"||a==="ondblclick"){this._eventsH.onmousedown||(this._eventsH.onmousedown=p.connect(this.getEventSource(),"onmousedown",k.fixCallback(this,i.fixTarget,this,"_onmousedown")));this._eventsH.onmouseup||(this._eventsH.onmouseup=p.connect(this.getEventSource(),"onmouseup",k.fixCallback(this,i.fixTarget,this,"_onmouseup")))}}},destroy:function(){this.inherited(arguments);for(var a in this._eventsH)p.disconnect(this._eventsH[a]);this._eventsH=this.mirrorCanvas=null},getEventSource:function(){return this.rawNode},
_invokeHandler:function(a,c,g){var i=a[c];if(i&&i.after)i.apply(a,[g]);else if(c in b)(i=a[b[c]])&&i.after&&i.apply(a,[g]);if(!i&&c.indexOf("touch")!==-1){c="_"+c+"Impl_";(i=a[c])&&i.apply(a,[g])}!(g.cancelBubble!==void 0&&g.cancelBubble)&&a.parent&&this._invokeHandler(a.parent,c,g)},_oncontextmenu:function(a){this._pick.curr&&this._invokeHandler(this._pick.curr,"oncontextmenu",a)},_ondblclick:function(a){this._pickOfMouseUp&&this._invokeHandler(this._pickOfMouseUp,"ondblclick",a)},_onclick:function(a){this._pickOfMouseUp&&
this._pickOfMouseUp==this._pickOfMouseDown&&this._invokeHandler(this._pickOfMouseUp,"onclick",a)},_onmousedown:function(a){(this._pickOfMouseDown=this._pick.curr)&&this._invokeHandler(this._pick.curr,"onmousedown",a)},_ontouchstart:function(a){this._pick.curr&&this._fireTouchEvent(a)},_onmouseup:function(a){(this._pickOfMouseUp=this._pick.curr)&&this._invokeHandler(this._pick.curr,"onmouseup",a)},_ontouchend:function(a){if(this._pick.curr)for(var b=0;b<this._pick.curr.length;++b)if(this._pick.curr[b].target){a.gfxTarget=
this._pick.curr[b].target;this._invokeHandler(this._pick.curr[b].target,"ontouchend",a)}},_onmousemove:function(a){if(this._pick.last&&this._pick.last!=this._pick.curr){this._invokeHandler(this._pick.last,"onmouseleave",a);this._invokeHandler(this._pick.last,"onmouseout",a)}if(this._pick.curr)if(this._pick.last==this._pick.curr)this._invokeHandler(this._pick.curr,"onmousemove",a);else{this._invokeHandler(this._pick.curr,"onmouseenter",a);this._invokeHandler(this._pick.curr,"onmouseover",a)}},_ontouchmove:function(a){this._pick.curr&&
this._fireTouchEvent(a)},_fireTouchEvent:function(a){for(var b=[],c=0;c<this._pick.curr.length;++c){var g=this._pick.curr[c];if(g.target){var i=g.target.__gfxtt;if(!i){i=[];g.target.__gfxtt=i}i.push(g.t);if(!g.target.__inToFire){b.push(g.target);g.target.__inToFire=true}}}if(b.length===0)this._invokeHandler(this,"on"+a.type,a);else for(c=0;c<b.length;++c)(function(){var g=b[c].__gfxtt,i=m.delegate(a,{gfxTarget:b[c]});if(o){i.preventDefault=function(){a.preventDefault()};i.stopPropagation=function(){a.stopPropagation()}}i.__defineGetter__("targetTouches",
function(){return g});delete b[c].__gfxtt;delete b[c].__inToFire;this._invokeHandler(b[c],"on"+a.type,i)}).call(this)},_onkeydown:function(){},_onkeyup:function(){},_whatsUnderEvent:function(a){var b=c.position(this.rawNode,true),g=[],i=a.changedTouches,k=a.touches;if(i)for(a=0;a<i.length;++a)g.push({t:i[a],x:i[a].pageX-b.x,y:i[a].pageY-b.y});else if(k)for(a=0;a<k.length;++a)g.push({t:k[a],x:k[a].pageX-b.x,y:k[a].pageY-b.y});else g.push({x:a.pageX-b.x,y:a.pageY-b.y});var a=this.mirrorCanvas,b=a.getContext("2d"),
n=this.children;b.clearRect(0,0,a.width,a.height);b.save();b.strokeStyle="rgba(127,127,127,1.0)";b.fillStyle="rgba(127,127,127,1.0)";b.pickingMode=true;for(a=n.length-1;a>=0;a--){n[a]._testInputs(b,g);var o=true;for(j=0;j<g.length;++j)if(g[j].target==null){o=false;break}if(o)break}b.restore();return k||i?g:g[0].target}});n.createSurface=function(a,b,g){if(!b&&!g)var k=c.position(a),b=b||k.w,g=g||k.h;typeof b=="number"&&(b=b+"px");typeof g=="number"&&(g=g+"px");var k=new n.Surface,a=l.byId(a),o=a.ownerDocument.createElement("canvas");
o.width=i.normalizedLength(b);o.height=i.normalizedLength(g);a.appendChild(o);k.rawNode=o;k._parent=a;return k.surface=k};n.fixTarget=function(a,b){if(a.cancelBubble!==void 0&&a.cancelBubble)return false;if(!a.gfxTarget){b._pick.last=b._pick.curr;b._pick.curr=b._whatsUnderEvent(a);if(!m.isArray(b._pick.curr))a.gfxTarget=b._pick.curr}return true};return n})},"dojox/xml/DomParser":function(){define("dojox/xml/DomParser",["dojo/_base/kernel","dojo/_base/array"],function(m){m.getObject("xml",!0,dojox);
dojox.xml.DomParser=new function(){var r,p,u;function l(){return new function(){var a={};this.nodeType=r;this.nodeName="#document";this.namespaces={};this._nsPaths={};this.childNodes=[];this.documentElement=null;this._add=function(b){"undefined"!=typeof b.id&&(a[b.id]=b)};this._remove=function(b){a[b]&&delete a[b]};this.byId=this.getElementById=function(b){return a[b]};this.byName=this.getElementsByTagName=c;this.byNameNS=this.getElementsByTagNameNS=i;this.childrenByName=g;this.childrenByNameNS=k}}
function c(a){function b(a,c,e){m.forEach(a.childNodes,function(a){a.nodeType==p&&("*"==c?e.push(a):a.nodeName==c&&e.push(a),b(a,c,e))})}var c=[];b(this,a,c);return c}function i(a,b){function c(a,b,e,g){m.forEach(a.childNodes,function(a){a.nodeType==p&&("*"==b&&a.ownerDocument._nsPaths[e]==a.namespace?g.push(a):a.localName==b&&a.ownerDocument._nsPaths[e]==a.namespace&&g.push(a),c(a,b,e,g))})}b||(b=Z);var e=[];c(this,a,b,e);return e}function g(a){var b=[];m.forEach(this.childNodes,function(c){c.nodeType==
p&&("*"==a?b.push(c):c.nodeName==a&&b.push(c))});return b}function k(a,b){var c=[];m.forEach(this.childNodes,function(e){e.nodeType==p&&("*"==a&&e.ownerDocument._nsPaths[b]==e.namespace?c.push(e):e.localName==a&&e.ownerDocument._nsPaths[b]==e.namespace&&c.push(e))});return c}function a(a){return{nodeType:u,nodeName:"#text",nodeValue:a.replace(w," ").replace(T,">").replace(K,"<").replace(L,"'").replace(P,'"').replace(Q,"&")}}function n(a){for(var b=0;b<this.attributes.length;b++)if(this.attributes[b].nodeName==
a)return this.attributes[b].nodeValue;return null}function v(a,b){for(var c=0;c<this.attributes.length;c++)if(this.ownerDocument._nsPaths[b]==this.attributes[c].namespace&&this.attributes[c].localName==a)return this.attributes[c].nodeValue;return null}function b(a,b){for(var c=null,e=0;e<this.attributes.length;e++)if(this.attributes[e].nodeName==a){c=this.attributes[e].nodeValue;this.attributes[e].nodeValue=b;break}"id"==a&&(null!=c&&this.ownerDocument._remove(c),this.ownerDocument._add(this))}function t(a,
b,c){for(var e=0;e<this.attributes.length;e++)if(this.ownerDocument._nsPaths[c]==this.attributes[e].namespace&&this.attributes[e].localName==a){this.attributes[e].nodeValue=b;break}}function o(){var a=this.parentNode;if(a)for(var b=0;b<a.childNodes.length;b++)if(a.childNodes[b]==this&&0<b)return a.childNodes[b-1];return null}function e(){var a=this.parentNode;if(a)for(var b=0;b<a.childNodes.length;b++)if(a.childNodes[b]==this&&b+1<a.childNodes.length)return a.childNodes[b+1];return null}p=1;u=3;r=
9;var x=/<([^>\/\s+]*)([^>]*)>([^<]*)/g,H=/([^=]*)=(("([^"]*)")|('([^']*)'))/g,Y=/<!ENTITY\s+([^"]*)\s+"([^"]*)">/g,C=/<!\[CDATA\[([\u0001-\uFFFF]*?)\]\]>/g,I=/<\!--([\u0001-\uFFFF]*?)--\>/g,D=/^\s+|\s+$/g,w=/\s+/g,T=/\&gt;/g,K=/\&lt;/g,P=/\&quot;/g,L=/\&apos;/g,Q=/\&amp;/g,Z="_def_";this.parse=function(m){var r=l();if(null==m||0==m.length)return r;if(0<m.indexOf("<!ENTITY")){var u,W=[];if(Y.test(m)){for(Y.lastIndex=0;null!=(u=Y.exec(m));)W.push({entity:"&"+u[1].replace(D,"")+";",expression:u[2]});
for(var B=0;B<W.length;B++)m=m.replace(RegExp(W[B].entity,"g"),W[B].expression)}}for(W=[];null!=(u=C.exec(m));)W.push(u[1]);for(B=0;B<W.length;B++)m=m.replace(W[B],B);for(u=[];null!=(B=I.exec(m));)u.push(B[1]);for(B=0;B<u.length;B++)m=m.replace(u[B],B);for(var F,B=r;null!=(F=x.exec(m));)if("/"==F[2].charAt(0)&&1<F[2].replace(D,"").length){B.parentNode&&(B=B.parentNode);var G=(F[3]||"").replace(D,"");0<G.length&&B.childNodes.push(a(G))}else if(0<F[1].length)if("?"==F[1].charAt(0))G=F[1].substr(1),
F=F[2].substr(0,F[2].length-2),B.childNodes.push({nodeType:7,nodeName:G,nodeValue:F});else if("!"==F[1].charAt(0))if(0==F[1].indexOf("![CDATA[")){var M=parseInt(F[1].replace("![CDATA[","").replace("]]",""));B.childNodes.push({nodeType:4,nodeName:"#cdata-section",nodeValue:W[M]})}else"!--"==F[1].substr(0,3)&&(M=parseInt(F[1].replace("!--","").replace("--","")),B.childNodes.push({nodeType:8,nodeName:"#comment",nodeValue:u[M]}));else{var G=F[1].replace(D,""),E={nodeType:p,nodeName:G,localName:G,namespace:Z,
ownerDocument:r,attributes:[],parentNode:null,childNodes:[]};if(-1<G.indexOf(":")){var R=G.split(":");E.namespace=R[0];E.localName=R[1]}E.byName=E.getElementsByTagName=c;E.byNameNS=E.getElementsByTagNameNS=i;E.childrenByName=g;E.childrenByNameNS=k;E.getAttribute=n;E.getAttributeNS=v;E.setAttribute=b;E.setAttributeNS=t;E.previous=E.previousSibling=o;for(E.next=E.nextSibling=e;null!=(M=H.exec(F[2]));)if(0<M.length)if(G=M[1].replace(D,""),M=(M[4]||M[6]||"").replace(w," ").replace(T,">").replace(K,"<").replace(L,
"'").replace(P,'"').replace(Q,"&"),0==G.indexOf("xmlns"))0<G.indexOf(":")?(R=G.split(":"),r.namespaces[R[1]]=M,r._nsPaths[M]=R[1]):(r.namespaces[Z]=M,r._nsPaths[M]=Z);else{var ga=G,R=Z;0<G.indexOf(":")&&(R=G.split(":"),ga=R[1],R=R[0]);E.attributes.push({nodeType:2,nodeName:G,localName:ga,namespace:R,nodeValue:M});"id"==ga&&(E.id=M)}r._add(E);B&&(B.childNodes.push(E),E.parentNode=B,"/"!=F[2].charAt(F[2].length-1)&&(B=E));G=F[3];0<G.length&&B.childNodes.push(a(G))}for(B=0;B<r.childNodes.length;B++)if(m=
r.childNodes[B],m.nodeType==p){r.documentElement=m;break}return r}};return dojox.xml.DomParser})},"dojox/html/metrics":function(){define("dojox/html/metrics","dojo/_base/kernel dojo/_base/lang dojo/_base/sniff dojo/ready dojo/_base/unload dojo/_base/window dojo/dom-geometry".split(" "),function(m,r,p,u,l,c,i){var g=r.getObject("dojox.html.metrics",true),k=r.getObject("dojox");g.getFontMeasurements=function(){var a={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,small:0,medium:0,
large:0,"x-large":0,"xx-large":0};if(p("ie"))c.doc.documentElement.style.fontSize="100%";var b=c.doc.createElement("div"),g=b.style;g.position="absolute";g.left="-100px";g.top="0";g.width="30px";g.height="1000em";g.borderWidth="0";g.margin="0";g.padding="0";g.outline="0";g.lineHeight="1";g.overflow="hidden";c.body().appendChild(b);for(var i in a){g.fontSize=i;a[i]=Math.round(b.offsetHeight*12/16)*16/12/1E3}c.body().removeChild(b);return a};var a=null;g.getCachedFontMeasurements=function(b){if(b||
!a)a=g.getFontMeasurements();return a};var n=null,v={};g.getTextBox=function(a,b,g){var k,l;if(n)k=n;else{k=n=c.doc.createElement("div");var p=c.doc.createElement("div");p.appendChild(k);l=p.style;l.overflow="scroll";l.position="absolute";l.left="0px";l.top="-10000px";l.width="1px";l.height="1px";l.visibility="hidden";l.borderWidth="0";l.margin="0";l.padding="0";l.outline="0";c.body().appendChild(p)}k.className="";l=k.style;l.borderWidth="0";l.margin="0";l.padding="0";l.outline="0";if(arguments.length>
1&&b)for(var m in b)m in v||(l[m]=b[m]);if(arguments.length>2&&g)k.className=g;k.innerHTML=a;l=i.position(k);l.w=k.parentNode.scrollWidth;return l};var b=16,t=16;g.getScrollbar=function(){return{w:b,h:t}};g._fontResizeNode=null;g.initOnFontResize=function(){var a=g._fontResizeNode=c.doc.createElement("iframe"),b=a.style;b.position="absolute";b.width="5em";b.height="10em";b.top="-10000px";b.display="none";p("ie")?a.onreadystatechange=function(){if(a.contentWindow.document.readyState=="complete")a.onresize=
a.contentWindow.parent[k._scopeName].html.metrics._fontresize}:a.onload=function(){a.contentWindow.onresize=a.contentWindow.parent[k._scopeName].html.metrics._fontresize};a.setAttribute("src","javascript:'<html><head><script>if(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}<\/script></head><body></body></html>'");c.body().appendChild(a);g.initOnFontResize=function(){}};g.onFontResize=function(){};g._fontresize=function(){g.onFontResize()};l.addOnUnload(function(){var a=g._fontResizeNode;
if(a){if(p("ie")&&a.onresize)a.onresize=null;else if(a.contentWindow&&a.contentWindow.onresize)a.contentWindow.onresize=null;g._fontResizeNode=null}});u(function(){try{var a=c.doc.createElement("div");a.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";c.body().appendChild(a);b=a.offsetWidth-a.clientWidth;t=a.offsetHeight-a.clientHeight;c.body().removeChild(a);delete a}catch(e){}"fontSizeWatch"in m.config&&m.config.fontSizeWatch&&g.initOnFontResize()});
return g})},"dojox/gfx/renderer":function(){define("dojox/gfx/renderer",["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(m,r,p,u,l){var c=null;return{load:function(i,g,k){function a(){g(["dojox/gfx/"+n],function(a){m.renderer=n;c=a;k(a)})}if(c&&"force"!=i)k(c);else{for(var n=l.forceGfxRenderer,i=!n&&(r.isString(l.gfxRenderer)?l.gfxRenderer:"svg,vml,canvas,silverlight").split(","),v,b;!n&&i.length;)switch(i.shift()){case "svg":"SVGAngle"in u.global&&
(n="svg");break;case "vml":p("ie")&&(n="vml");break;case "silverlight":try{p("ie")?(v=new ActiveXObject("AgControl.AgControl"))&&v.IsVersionSupported("1.0")&&(b=!0):navigator.plugins["Silverlight Plug-In"]&&(b=!0)}catch(t){b=!1}finally{v=null}b&&(n="silverlight");break;case "canvas":u.global.CanvasRenderingContext2D&&(n="canvas")}"canvas"===n&&!1!==l.canvasEvents&&(n="canvasWithEvents");"svg"==n&&"undefined"!=typeof window.svgweb?window.svgweb.addOnLoad(a):a()}}}})},"dojox/gfx/matrix":function(){define("dojox/gfx/matrix",
["./_base","dojo/_base/lang"],function(m,r){var p=m.matrix={},u={};p._degToRad=function(l){return u[l]||(u[l]=Math.PI*l/180)};p._radToDeg=function(l){return 180*(l/Math.PI)};p.Matrix2D=function(l){if(l)if("number"==typeof l)this.xx=this.yy=l;else if(l instanceof Array){if(0<l.length){for(var c=p.normalize(l[0]),i=1;i<l.length;++i){var g=c,k=p.normalize(l[i]),c=new p.Matrix2D;c.xx=g.xx*k.xx+g.xy*k.yx;c.xy=g.xx*k.xy+g.xy*k.yy;c.yx=g.yx*k.xx+g.yy*k.yx;c.yy=g.yx*k.xy+g.yy*k.yy;c.dx=g.xx*k.dx+g.xy*k.dy+
g.dx;c.dy=g.yx*k.dx+g.yy*k.dy+g.dy}r.mixin(this,c)}}else r.mixin(this,l)};r.extend(p.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});r.mixin(p,{identity:new p.Matrix2D,flipX:new p.Matrix2D({xx:-1}),flipY:new p.Matrix2D({yy:-1}),flipXY:new p.Matrix2D({xx:-1,yy:-1}),translate:function(l,c){return 1<arguments.length?new p.Matrix2D({dx:l,dy:c}):new p.Matrix2D({dx:l.x,dy:l.y})},scale:function(l,c){return 1<arguments.length?new p.Matrix2D({xx:l,yy:c}):"number"==typeof l?new p.Matrix2D({xx:l,yy:l}):new p.Matrix2D({xx:l.x,
yy:l.y})},rotate:function(l){var c=Math.cos(l),l=Math.sin(l);return new p.Matrix2D({xx:c,xy:-l,yx:l,yy:c})},rotateg:function(l){return p.rotate(p._degToRad(l))},skewX:function(l){return new p.Matrix2D({xy:Math.tan(l)})},skewXg:function(l){return p.skewX(p._degToRad(l))},skewY:function(l){return new p.Matrix2D({yx:Math.tan(l)})},skewYg:function(l){return p.skewY(p._degToRad(l))},reflect:function(l,c){1==arguments.length&&(c=l.y,l=l.x);var i=l*l,g=c*c,k=i+g,a=2*l*c/k;return new p.Matrix2D({xx:2*i/k-
1,xy:a,yx:a,yy:2*g/k-1})},project:function(l,c){1==arguments.length&&(c=l.y,l=l.x);var i=l*l,g=c*c,k=i+g,a=l*c/k;return new p.Matrix2D({xx:i/k,xy:a,yx:a,yy:g/k})},normalize:function(l){return l instanceof p.Matrix2D?l:new p.Matrix2D(l)},isIdentity:function(l){return 1==l.xx&&0==l.xy&&0==l.yx&&1==l.yy&&0==l.dx&&0==l.dy},clone:function(l){var c=new p.Matrix2D,i;for(i in l)"number"==typeof l[i]&&("number"==typeof c[i]&&c[i]!=l[i])&&(c[i]=l[i]);return c},invert:function(l){var l=p.normalize(l),c=l.xx*
l.yy-l.xy*l.yx;return l=new p.Matrix2D({xx:l.yy/c,xy:-l.xy/c,yx:-l.yx/c,yy:l.xx/c,dx:(l.xy*l.dy-l.yy*l.dx)/c,dy:(l.yx*l.dx-l.xx*l.dy)/c})},_multiplyPoint:function(l,c,i){return{x:l.xx*c+l.xy*i+l.dx,y:l.yx*c+l.yy*i+l.dy}},multiplyPoint:function(l,c,i){l=p.normalize(l);return"number"==typeof c&&"number"==typeof i?p._multiplyPoint(l,c,i):p._multiplyPoint(l,c.x,c.y)},multiplyRectangle:function(l,c){var i=p.normalize(l),c=c||{x:0,y:0,width:0,height:0};if(p.isIdentity(i))return{x:c.x,y:c.y,width:c.width,
height:c.height};var g=p.multiplyPoint(i,c.x,c.y),k=p.multiplyPoint(i,c.x,c.y+c.height),a=p.multiplyPoint(i,c.x+c.width,c.y),n=p.multiplyPoint(i,c.x+c.width,c.y+c.height),i=Math.min(g.x,k.x,a.x,n.x),m=Math.min(g.y,k.y,a.y,n.y),b=Math.max(g.x,k.x,a.x,n.x),g=Math.max(g.y,k.y,a.y,n.y);return{x:i,y:m,width:b-i,height:g-m}},multiply:function(l){for(var c=p.normalize(l),i=1;i<arguments.length;++i){var g=c,k=p.normalize(arguments[i]),c=new p.Matrix2D;c.xx=g.xx*k.xx+g.xy*k.yx;c.xy=g.xx*k.xy+g.xy*k.yy;c.yx=
g.yx*k.xx+g.yy*k.yx;c.yy=g.yx*k.xy+g.yy*k.yy;c.dx=g.xx*k.dx+g.xy*k.dy+g.dx;c.dy=g.yx*k.dx+g.yy*k.dy+g.dy}return c},_sandwich:function(l,c,i){return p.multiply(p.translate(c,i),l,p.translate(-c,-i))},scaleAt:function(l,c,i,g){switch(arguments.length){case 4:return p._sandwich(p.scale(l,c),i,g);case 3:return"number"==typeof i?p._sandwich(p.scale(l),c,i):p._sandwich(p.scale(l,c),i.x,i.y)}return p._sandwich(p.scale(l),c.x,c.y)},rotateAt:function(l,c,i){return 2<arguments.length?p._sandwich(p.rotate(l),
c,i):p._sandwich(p.rotate(l),c.x,c.y)},rotategAt:function(l,c,i){return 2<arguments.length?p._sandwich(p.rotateg(l),c,i):p._sandwich(p.rotateg(l),c.x,c.y)},skewXAt:function(l,c,i){return 2<arguments.length?p._sandwich(p.skewX(l),c,i):p._sandwich(p.skewX(l),c.x,c.y)},skewXgAt:function(l,c,i){return 2<arguments.length?p._sandwich(p.skewXg(l),c,i):p._sandwich(p.skewXg(l),c.x,c.y)},skewYAt:function(l,c,i){return 2<arguments.length?p._sandwich(p.skewY(l),c,i):p._sandwich(p.skewY(l),c.x,c.y)},skewYgAt:function(l,
c,i){return 2<arguments.length?p._sandwich(p.skewYg(l),c,i):p._sandwich(p.skewYg(l),c.x,c.y)}});m.Matrix2D=p.Matrix2D;return p})},"dojox/gfx/gradient":function(){define("dojox/gfx/gradient",["dojo/_base/lang","./matrix","dojo/_base/Color"],function(m,r,p){function u(c,g,k,a,n,l){c=r.multiplyPoint(k,c,g);a=r.multiplyPoint(a,c);return{r:c,p:a,o:r.multiplyPoint(n,a).x/l}}function l(c,g){return c.o-g.o}var c=m.getObject("dojox.gfx.gradient",!0);c.rescale=function(c,g,k){var a=c.length,n=k<g,l;n&&(l=g,
g=k,k=l);if(!a)return[];if(k<=c[0].offset)l=[{offset:0,color:c[0].color},{offset:1,color:c[0].color}];else if(g>=c[a-1].offset)l=[{offset:0,color:c[a-1].color},{offset:1,color:c[a-1].color}];else{var b=k-g,m,o,e;l=[];0>g&&l.push({offset:0,color:new p(c[0].color)});for(e=0;e<a&&!(m=c[e],m.offset>=g);++e);e?(o=c[e-1],l.push({offset:0,color:p.blendColors(new p(o.color),new p(m.color),(g-o.offset)/(m.offset-o.offset))})):l.push({offset:0,color:new p(m.color)});for(;e<a;++e){m=c[e];if(m.offset>=k)break;
l.push({offset:(m.offset-g)/b,color:new p(m.color)})}e<a?(o=c[e-1],l.push({offset:1,color:p.blendColors(new p(o.color),new p(m.color),(k-o.offset)/(m.offset-o.offset))})):l.push({offset:1,color:new p(c[a-1].color)})}if(n){l.reverse();e=0;for(a=l.length;e<a;++e)m=l[e],m.offset=1-m.offset}return l};c.project=function(i,g,k,a){var i=i||r.identity,n=r.multiplyPoint(i,g.x1,g.y1),m=r.multiplyPoint(i,g.x2,g.y2),b=Math.atan2(m.y-n.y,m.x-n.x),p=r.project(m.x-n.x,m.y-n.y),n=r.multiplyPoint(p,n),m=r.multiplyPoint(p,
m),n=new r.Matrix2D([r.rotate(-b),{dx:-n.x,dy:-n.y}]),m=r.multiplyPoint(n,m).x,i=[u(k.x,k.y,i,p,n,m),u(a.x,a.y,i,p,n,m),u(k.x,a.y,i,p,n,m),u(a.x,k.y,i,p,n,m)].sort(l),g=c.rescale(g.colors,i[0].o,i[3].o);Math.atan2(i[3].r.y-i[0].r.y,i[3].r.x-i[0].r.x);return{type:"linear",x1:i[0].p.x,y1:i[0].p.y,x2:i[3].p.x,y2:i[3].p.y,colors:g,angle:b}};return c})},"dojox/gfx/move":function(){define("dojox/gfx/move",["dojo/_base/lang","./Mover","./Moveable"],function(m){return m.getObject("dojox.gfx.move",!0)})},
"dojox/string/BidiEngine":function(){define("dojox/string/BidiEngine",["dojo/_base/lang","dojo/_base/declare"],function(m,r){var p,u,l,c,i,g,k,a,n,v;function b(a,d,f,h){void 0==d&&(d=p);void 0==f&&(f=u);void 0==h&&(h=l);if(d==f)return a;var k,w=d.substring(0,1),n=d.substring(1,4),m=f.substring(0,1),q=f.substring(1,4);"C"==n.charAt(0)&&(k=t(a),n="ltr"==k||"rtl"==k?k.toUpperCase():"L"==d.charAt(2)?"LTR":"RTL",d=w+n);if("C"==q.charAt(0)){k=t(a);if("rtl"==k)q="RTL";else if("ltr"==k){a:{f=a;k=null;for(q=
f.length-1;0<=q;q--){k=e(f.charAt(q));if(k==ba||k==ea){k="rtl";break a}if(k==ha){k="ltr";break a}if(k==ca)break}k=""}q=k.toUpperCase()}else q="L"==f.charAt(2)?"LTR":"RTL";f=m+q}if(d==f)return a;c=d;i=h;if("L"==w&&"VLTR"==f){if("LTR"==n)return g=Q,o(a);if("RTL"==n)return g=Z,o(a)}if("V"==w&&"V"==m)return x(a);if("L"==w&&"VRTL"==f)return g="LTR"==n?Q:Z,a=o(a),x(a);if("VLTR"==d&&"LLTR"==f)return g=Q,o(a);if("V"==w&&"L"==m&&n!=q)return a=x(a),"RTL"==n?b(a,"LLTR","VLTR",h):b(a,"LRTL","VRTL",h);if("VRTL"==
d&&"LRTL"==f)return b(a,"LRTL","VRTL",h);if("L"==w&&"L"==m)return d=i,i=d.substr(0,1)+"N","RTL"==n?(g=Z,a=o(a),i="N"+d.substr(1,2),g=Q,a=o(a)):(g=Q,a=o(a),i="N"+d.substr(1,2),a=b(a,"VLTR","LRTL",i)),a}function t(a){for(var b=null,c=b=null,d=0;d<a.length;d++){b=a.charAt(d).charCodeAt(0);c=ja[b>>8];b=c<S?c:ka[c-S][b&255];if(b==ba||b==ea)return"rtl";if(b==ha)return"ltr";if(b==ca)break}return""}function o(b){var b=b.split(""),c=[],d=b.length,f=g?Ma:Na,h=null,w=null,h=null,w=0,l=null,l=null,m=-1,o=l=null,
p=[],q=[];k=g;v=n=a=!1;for(l=0;l<d;l++)p[l]=e(b[l]);for(o=0;o<d;o++){h=w;q[o]=w=I(b,p,q,o);w=f[h][w];l=w&240;w&=15;c[o]=h=f[w][P];if(0<l){if(16==l)for(l=m;l<o;l++)c[l]=1;m=-1}if(l=f[w][L])-1==m&&(m=o);else if(-1<m){for(l=m;l<o;l++)c[l]=h;m=-1}p[o]==ca&&(c[o]=0);k|=h}if(v)for(l=0;l<d;l++)if(p[l]==la){c[l]=g;for(f=l-1;0<=f;f--)if(p[f]==ma)c[f]=g;else break}if(!(0==k||i.substr(0,1)==i.substr(1,2)))for(d=0;d<b.length;d++)if(1==c[d]){p=b;f=d;b:{m=b[d];o=void 0;q=0;for(h=$.length-1;q<=h;)if(o=Math.floor((q+
h)/2),m<$[o][0])h=o-1;else if(m>$[o][0])q=o+1;else{m=$[o][1];break b}}p[f]=m}C(2,b,c);C(1,b,c);return b.join("")}function e(a){var a=a.charCodeAt(0),b=ja[a>>8];return b<S?b:ka[b-S][a&255]}function x(a){a=a.split("");a.reverse();return a.join("")}function H(a){for(var b=0;b<pa.length;b++)if(a>=pa[b]&&a<=Oa[b])return!0;return!1}function Y(a,b,c,d){for(;b*c<d&&w(a[b]);)b+=c;return b*c<d&&H(a[b])?!0:!1}function C(a,b,c){if(!(k<a))if(1==a&&g==Z&&!n)b.reverse();else for(var d=b.length,f=0,e,h,i;f<d;){if(c[f]>=
a){for(e=f+1;e<d&&c[e]>=a;)e++;for(h=e-1;f<h;f++,h--)i=b[f],b[f]=b[h],b[h]=i;f=e}f++}}function I(b,d,f,e){var h=d[e],k,i;switch(h){case ha:case ba:a=!1;case X:case fa:return h;case U:return a?fa:U;case ea:return a=!0,ba;case ma:return X;case qa:if(1>e||e+1>=d.length||(k=f[e-1])!=U&&k!=fa||(i=d[e+1])!=U&&i!=fa)return X;a&&(i=fa);return i==k?i:X;case ra:return k=0<e?f[e-1]:ca,k==U&&e+1<d.length&&d[e+1]==U?U:X;case na:if(0<e&&f[e-1]==U)return U;if(a)return X;k=e+1;for(h=d.length;k<h&&d[k]==na;)k++;return k<
h&&d[k]==U?U:X;case oa:if("VLTR"==c){h=d.length;for(k=e+1;k<h&&d[k]==oa;)k++;if(k<h&&(b=b[e],k=d[k],(1425<=b&&2303>=b||64286==b)&&(k==ba||k==ea)))return ba}return 1>e||d[e-1]==ca?X:f[e-1];case ca:return lastArabic=!1,n=!0,g;case la:return v=!0,X;case sa:case ta:case ua:case va:case wa:lastArabic=!1;case xa:return X}}function D(a,b){for(var c=0;c<B.length;c++)if(a==B[c])return b[c];return a}function w(a){return"\u064b"<=a&&"\u0655">=a?!0:!1}function T(a){if("L"==a)return"LTR";if("R"==a)return"RTL";
if("C"==a)return"CLR";if("D"==a)return"CRL"}function K(a,b){for(var c=0;c<aa.length;c++)if(a==aa[c])return b[c];return a}m.getObject("string",!0,dojox);r("dojox.string.BidiEngine",null,{bidiTransform:function(a,c,d){if(!a)return"";if(!c&&!d)return a;var f=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/;if(!f.test(c)||!f.test(d))throw Error("dojox.string.BidiEngine: the bidi layout string is wrong!");if(c==d)return a;var f=T(c.charAt(1)),e=T(d.charAt(1)),h="I"==c.charAt(0)?"L":c.charAt(0),g="I"==d.charAt(0)?
"L":d.charAt(0),k=h+f,i=g+e,n=c.charAt(2)+d.charAt(2);k&&(p=k);i&&(u=i);n&&(l=n);f=b(a,h+f,g+e,c.charAt(2)+d.charAt(2));a=!1;if("R"==d.charAt(1))a=!0;else if("C"==d.charAt(1)||"D"==d.charAt(1))a=this.checkContextual(f);if(c.charAt(3)==d.charAt(3))return f;if("S"==d.charAt(3)){d=f;c=!0;if(0==d.length)c=void 0;else{void 0==a&&(a=!0);void 0==c&&(c=!0);d=new String(d);d=d.split("");g=0;f=1;e=d.length;a||(g=d.length-1,f=-1,e=1);k=0;a=[];for(h=0;g*f<e;g+=f)if(H(d[g])||w(d[g])){if(i="\u0644"==d[g])b:{for(var n=
d,m=g+f,o=f,q=e;m*o<q&&w(n[m]);)m+=o;i=" ";if(m*o<q){i=n[m];for(n=0;n<aa.length;n++)if(aa[n]==i){i=!0;break b}}i=!1}if(i){d[g]=0==k?K(d[g+f],La):K(d[g+f],W);g+=f;k=d;i=g;n=f;for(m=e;i*n<m&&w(k[i]);)i+=n;i*n<m&&(k[i]=" ");c&&(a[h]=g,h++);k=0}else{i=d[g];n=d;m=g;if(1==k)if(Y(d,g+f,f,e))b:{o=d[g];for(q=0;q<B.length;q++)if(o==B[q]){o=M[q];break b}}else o=D(d[g],G);else o=!0==Y(d,g+f,f,e)?D(d[g],E):D(d[g],F);n[m]=o;w(i)||(k=1);b:{for(n=0;n<R.length;n++)if(R[n]==i){i=!0;break b}i=!1}!0==i&&(k=0)}}else k=
0;f="";for(idx=0;idx<d.length;idx++){if(e=c){b:{for(e=0;e<a.length;e++)if(a[e]==idx)break b;e=-1}e=-1<e}e||(f+=d[idx])}c=f}return c}if("N"==d.charAt(3)){c=a;h=!0;if(0==f.length)c=void 0;else{void 0==h&&(h=!0);void 0==c&&(c=!0);f=new String(f);d="";e=[];a="";if(h)for(e=0;e<f.length;e++){if(" "==f.charAt(e))if(c){if(0<e&&"\ufef5"<=f.charAt(e-1)&&"\ufefc">=f.charAt(e-1))continue}else if(e+1<f.length&&"\ufef5"<=f.charAt(e+1)&&"\ufefc">=f.charAt(e+1))continue;a+=f.charAt(e)}else a=new String(f);e=a.split("");
for(f=0;f<a.length;f++)"\ufe70"<=e[f]&&"\ufeff">e[f]?(h=a.charCodeAt(f),"\ufef5"<=e[f]&&"\ufefc">=e[f]?c?(d+="\u0644",d+=aa[parseInt((h-65269)/2)]):(d+=aa[parseInt((h-65269)/2)],d+="\u0644"):d+=ga[h-65136]):d+=e[f];c=d}return c}},checkContextual:function(a){a=t(a);"ltr"!=a&&"rtl"!=a&&(a=document.dir.toLowerCase(),"ltr"!=a&&"rtl"!=a&&(a="ltr"));return a},hasBidiChar:function(a){for(var b=null,c=b=null,d=0;d<a.length;d++){b=a.charAt(d).charCodeAt(0);c=ja[b>>8];b=c<S?c:ka[c-S][b&255];if(b==ba||b==ea)return!0;
if(b==ca)break}return!1}});g=0;p="LLTR";l="YN";c="LLTR";i="YN";k=0;a=!1;v=n=u=void 0;var P=5,L=6,Q=0,Z=1,$=[["(",")"],[")","("],["<",">"],[">","<"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],
["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],["\ufe65","\ufe64"]],aa=["\u0622","\u0623","\u0625","\u0627"],La=["\ufef5","\ufef7","\ufef9","\ufefb"],W=["\ufef6","\ufef8","\ufefa","\ufefc"],B="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624\u064b\u064c\u064d\u064e\u064f\u0650\u0651\u0652\u0621".split(""),F="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80".split(""),
G="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80".split(""),M="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80".split(""),
E="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80".split(""),R="\u0621\u0627\u062f\u0630\u0631\u0632\u0648\u0622\u0629\u0626\u0624\u0625\u0675\u0623".split(""),ga="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split(""),
pa=["\u0621","\u0641"],Oa=["\u063a","\u064a"],Na=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Ma=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ha=0,ba=1,U=2,fa=3,X=4,ca=5,la=6,ea=7,ma=8,qa=9,ra=10,na=11,oa=12,sa=13,ta=14,wa=15,ua=16,va=17,xa=18,S=100,ya=S+0,za=S+1,Aa=S+2,Ba=S+3,Ca=S+4,Da=S+5,Ea=S+6,Fa=S+7,h=ha,s=ba,A=U,J=fa,d=X,da=ca,ia=la,f=ea,N=ma,O=qa,V=ra,z=na,q=oa,Ga=sa,Ha=ta,Ia=wa,Ja=ua,Ka=va,y=xa,ja=[ya,h,h,h,h,za,
Aa,Ba,s,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,Ca,d,d,d,h,d,h,d,h,d,d,d,h,h,d,d,h,h,h,h,h,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,h,h,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,h,h,h,h,h,h,h,h,h,h,h,h,h,h,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,h,h,d,d,h,h,d,d,h,h,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,h,h,h,Da,f,f,Ea,
Fa];delete ya;delete za;delete Aa;delete Ba;delete Ca;delete Da;delete Ea;delete Fa;var ka=[[y,y,y,y,y,y,y,y,y,ia,da,ia,N,da,y,y,y,y,y,y,y,y,y,y,y,y,y,y,da,da,da,ia,N,d,d,z,z,z,d,d,d,d,d,V,O,V,O,O,A,A,A,A,A,A,A,A,A,A,O,d,d,d,d,d,d,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,d,d,d,d,d,d,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,d,d,d,d,y,y,y,y,y,y,da,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,y,O,d,z,z,z,z,d,d,d,d,h,d,d,y,d,d,z,z,A,A,d,h,d,d,d,A,h,d,d,d,d,d,h,h,h,h,h,h,h,h,
h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,d,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,d,h,h,h,h,h,h,h,h],[h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,d,d,d,d,d,d,d,d,d,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,d,d,h,h,h,h,h,h,h,d,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,d,h,d,d,d,d,d,d,d,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,s,q,s,q,
q,s,q,q,s,q,d,d,d,d,d,d,d,d,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,d,d,d,d,d,s,s,s,s,s,d,d,d,d,d,d,d,d,d,d,d],[J,J,J,J,d,d,d,d,f,z,z,f,O,f,d,d,q,q,q,q,q,q,q,q,q,q,q,f,d,d,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,J,J,J,J,J,J,J,J,J,J,z,J,J,f,f,f,q,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,
f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,q,q,q,q,q,q,q,J,d,q,q,q,q,q,q,f,f,q,q,d,q,q,q,q,f,f,A,A,A,A,A,A,A,A,A,A,f,f,f,f,f,f],[f,f,f,f,f,f,f,f,f,f,f,f,f,f,d,f,f,q,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,d,d,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,q,q,q,q,q,q,q,q,q,q,q,f,d,d,d,d,
d,d,d,d,d,d,d,d,d,d,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,q,q,q,q,q,q,q,q,q,s,s,d,d,d,d,s,d,d,d,d,d],[N,N,N,N,N,N,N,N,N,N,N,y,y,y,h,s,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,N,da,Ga,Ha,Ia,Ja,Ka,O,z,z,z,z,z,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,O,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,N,y,y,y,y,y,d,d,d,d,d,y,y,y,y,y,y,A,h,d,d,A,A,A,A,A,A,V,V,d,d,d,h,A,A,A,A,A,A,A,A,A,A,V,V,d,d,d,d,h,h,h,h,h,h,h,h,h,h,h,h,h,d,d,d,z,z,z,z,z,z,z,z,z,z,z,z,z,
z,z,z,z,z,z,z,z,z,z,z,z,z,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d],[h,h,h,h,h,h,h,d,d,d,d,d,d,d,d,d,d,d,d,h,h,h,h,h,d,d,d,d,d,s,q,s,s,s,s,s,s,s,s,s,s,V,s,s,s,s,s,s,s,s,s,s,s,s,s,d,s,s,s,s,s,d,s,d,s,s,d,s,s,d,s,s,s,s,s,s,s,s,s,s,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,
f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f],[q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,q,q,q,q,q,q,q,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,O,d,O,d,d,O,d,d,d,d,d,d,d,d,d,z,d,d,V,V,d,d,d,d,d,z,z,d,d,d,d,d,f,f,f,f,f,d,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,
f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,f,d,d,y],[d,d,d,z,z,z,d,d,d,d,d,V,O,V,O,O,A,A,A,A,A,A,A,A,A,A,O,d,d,d,d,d,d,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,d,d,d,d,d,d,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,d,d,d,d,d,d,d,d,d,d,d,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,
h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,h,d,d,d,h,h,h,h,h,h,d,d,h,h,h,h,h,h,d,d,h,h,h,h,h,h,d,d,h,h,h,d,d,d,z,z,d,d,d,z,z,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d]];delete h;delete s;delete A;delete J;delete d;delete da;delete ia;delete f;delete N;delete O;delete V;delete z;delete q;delete Ga;delete Ha;delete Ia;delete Ja;delete Ka;delete y;return dojox.string.BidiEngine})},"dojox/gfx/path":function(){define("dojox/gfx/path",["./_base","dojo/_base/lang","dojo/_base/declare",
"./matrix","./shape"],function(m,r,p,u,l){l=p("dojox.gfx.path.Path",l.Shape,{constructor:function(c){this.shape=r.clone(m.defaultPath);this.segments=[];this.tbbox=null;this.absolute=!0;this.last={};this.rawNode=c;this.segmented=!1},setAbsoluteMode:function(c){this._confirmSegmented();this.absolute="string"==typeof c?"absolute"==c:c;return this},getAbsoluteMode:function(){this._confirmSegmented();return this.absolute},getBoundingBox:function(){this._confirmSegmented();return this.bbox&&"l"in this.bbox?
{x:this.bbox.l,y:this.bbox.t,width:this.bbox.r-this.bbox.l,height:this.bbox.b-this.bbox.t}:null},_getRealBBox:function(){this._confirmSegmented();if(this.tbbox)return this.tbbox;var c=this.bbox,i=this._getRealMatrix();this.bbox=null;for(var g=0,k=this.segments.length;g<k;++g)this._updateWithSegment(this.segments[g],i);i=this.bbox;this.bbox=c;return this.tbbox=i?[{x:i.l,y:i.t},{x:i.r,y:i.t},{x:i.r,y:i.b},{x:i.l,y:i.b}]:null},getLastPosition:function(){this._confirmSegmented();return"x"in this.last?
this.last:null},_applyTransform:function(){this.tbbox=null;return this.inherited(arguments)},_updateBBox:function(c,i,g){g&&(i=u.multiplyPoint(g,c,i),c=i.x,i=i.y);if(this.bbox&&"l"in this.bbox){if(this.bbox.l>c&&(this.bbox.l=c),this.bbox.r<c&&(this.bbox.r=c),this.bbox.t>i&&(this.bbox.t=i),this.bbox.b<i)this.bbox.b=i}else this.bbox={l:c,b:i,r:c,t:i}},_updateWithSegment:function(c,i){var g=c.args,k=g.length,a;switch(c.action){case "M":case "L":case "C":case "S":case "Q":case "T":for(a=0;a<k;a+=2)this._updateBBox(g[a],
g[a+1],i);this.last.x=g[k-2];this.last.y=g[k-1];this.absolute=!0;break;case "H":for(a=0;a<k;++a)this._updateBBox(g[a],this.last.y,i);this.last.x=g[k-1];this.absolute=!0;break;case "V":for(a=0;a<k;++a)this._updateBBox(this.last.x,g[a],i);this.last.y=g[k-1];this.absolute=!0;break;case "m":a=0;"x"in this.last||(this._updateBBox(this.last.x=g[0],this.last.y=g[1],i),a=2);for(;a<k;a+=2)this._updateBBox(this.last.x+=g[a],this.last.y+=g[a+1],i);this.absolute=!1;break;case "l":case "t":for(a=0;a<k;a+=2)this._updateBBox(this.last.x+=
g[a],this.last.y+=g[a+1],i);this.absolute=!1;break;case "h":for(a=0;a<k;++a)this._updateBBox(this.last.x+=g[a],this.last.y,i);this.absolute=!1;break;case "v":for(a=0;a<k;++a)this._updateBBox(this.last.x,this.last.y+=g[a],i);this.absolute=!1;break;case "c":for(a=0;a<k;a+=6)this._updateBBox(this.last.x+g[a],this.last.y+g[a+1],i),this._updateBBox(this.last.x+g[a+2],this.last.y+g[a+3],i),this._updateBBox(this.last.x+=g[a+4],this.last.y+=g[a+5],i);this.absolute=!1;break;case "s":case "q":for(a=0;a<k;a+=
4)this._updateBBox(this.last.x+g[a],this.last.y+g[a+1],i),this._updateBBox(this.last.x+=g[a+2],this.last.y+=g[a+3],i);this.absolute=!1;break;case "A":for(a=0;a<k;a+=7)this._updateBBox(g[a+5],g[a+6],i);this.last.x=g[k-2];this.last.y=g[k-1];this.absolute=!0;break;case "a":for(a=0;a<k;a+=7)this._updateBBox(this.last.x+=g[a+5],this.last.y+=g[a+6],i);this.absolute=!1}var n=[c.action];for(a=0;a<k;++a)n.push(m.formatNumber(g[a],!0));"string"==typeof this.shape.path?this.shape.path+=n.join(""):Array.prototype.push.apply(this.shape.path,
n)},_validSegments:{m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,z:0},_pushSegment:function(c,i){this.tbbox=null;var g=this._validSegments[c.toLowerCase()];"number"==typeof g&&(g?i.length>=g&&(g={action:c,args:i.slice(0,i.length-i.length%g)},this.segments.push(g),this._updateWithSegment(g)):(g={action:c,args:[]},this.segments.push(g),this._updateWithSegment(g)))},_collectArgs:function(c,i){for(var g=0;g<i.length;++g){var k=i[g];"boolean"==typeof k?c.push(k?1:0):"number"==typeof k?c.push(k):k instanceof Array?
this._collectArgs(c,k):"x"in k&&"y"in k&&c.push(k.x,k.y)}},moveTo:function(){this._confirmSegmented();var c=[];this._collectArgs(c,arguments);this._pushSegment(this.absolute?"M":"m",c);return this},lineTo:function(){this._confirmSegmented();var c=[];this._collectArgs(c,arguments);this._pushSegment(this.absolute?"L":"l",c);return this},hLineTo:function(){this._confirmSegmented();var c=[];this._collectArgs(c,arguments);this._pushSegment(this.absolute?"H":"h",c);return this},vLineTo:function(){this._confirmSegmented();
var c=[];this._collectArgs(c,arguments);this._pushSegment(this.absolute?"V":"v",c);return this},curveTo:function(){this._confirmSegmented();var c=[];this._collectArgs(c,arguments);this._pushSegment(this.absolute?"C":"c",c);return this},smoothCurveTo:function(){this._confirmSegmented();var c=[];this._collectArgs(c,arguments);this._pushSegment(this.absolute?"S":"s",c);return this},qCurveTo:function(){this._confirmSegmented();var c=[];this._collectArgs(c,arguments);this._pushSegment(this.absolute?"Q":
"q",c);return this},qSmoothCurveTo:function(){this._confirmSegmented();var c=[];this._collectArgs(c,arguments);this._pushSegment(this.absolute?"T":"t",c);return this},arcTo:function(){this._confirmSegmented();var c=[];this._collectArgs(c,arguments);this._pushSegment(this.absolute?"A":"a",c);return this},closePath:function(){this._confirmSegmented();this._pushSegment("Z",[]);return this},_confirmSegmented:function(){if(!this.segmented){var c=this.shape.path;this.shape.path=[];this._setPath(c);this.shape.path=
this.shape.path.join("");this.segmented=!0}},_setPath:function(c){c=r.isArray(c)?c:c.match(m.pathSvgRegExp);this.segments=[];this.absolute=!0;this.bbox={};this.last={};if(c){for(var i="",g=[],k=c.length,a=0;a<k;++a){var n=c[a],l=parseFloat(n);isNaN(l)?(i&&this._pushSegment(i,g),g=[],i=n):g.push(l)}this._pushSegment(i,g)}},setShape:function(c){this.inherited(arguments,["string"==typeof c?{path:c}:c]);this.segmented=!1;this.segments=[];m.lazyPathSegmentation||this._confirmSegmented();return this},_2PI:2*
Math.PI});p=p("dojox.gfx.path.TextPath",l,{constructor:function(){"text"in this||(this.text=r.clone(m.defaultTextPath));"fontStyle"in this||(this.fontStyle=r.clone(m.defaultFont))},getText:function(){return this.text},setText:function(c){this.text=m.makeParameters(this.text,"string"==typeof c?{text:c}:c);this._setText();return this},getFont:function(){return this.fontStyle},setFont:function(c){this.fontStyle="string"==typeof c?m.splitFontString(c):m.makeParameters(m.defaultFont,c);this._setFont();
return this}});return m.path={Path:l,TextPath:p}})},"dojox/gfx/svg":function(){define("dojox/gfx/svg","dojo/_base/lang dojo/_base/sniff dojo/_base/window dojo/dom dojo/_base/declare dojo/_base/array dojo/dom-geometry dojo/dom-attr dojo/_base/Color ./_base ./shape ./path".split(" "),function(m,r,p,u,l,c,i,g,k,a,n,v){function b(a,b){return p.doc.createElementNS?p.doc.createElementNS(a,b):p.doc.createElement(b)}function t(a){return o.useSvgWeb?p.doc.createTextNode(a,true):p.doc.createTextNode(a)}var o=
a.svg={};o.useSvgWeb=typeof window.svgweb!="undefined";var e=navigator.userAgent,x=r("ios"),H=r("android"),Y=r("chrome")||H&&H>=4?"auto":"optimizeLegibility";o.xmlns={xlink:"http://www.w3.org/1999/xlink",svg:"http://www.w3.org/2000/svg"};o.getRef=function(a){return!a||a=="none"?null:a.match(/^url\(#.+\)$/)?u.byId(a.slice(5,-1)):a.match(/^#dojoUnique\d+$/)?u.byId(a.slice(1)):null};o.dasharray={solid:"none",shortdash:[4,1],shortdot:[1,1],shortdashdot:[4,1,1,1],shortdashdotdot:[4,1,1,1,1,1],dot:[1,3],
dash:[4,3],longdash:[8,3],dashdot:[4,3,1,3],longdashdot:[8,3,1,3],longdashdotdot:[8,3,1,3,1,3]};var C=0;o.Shape=l("dojox.gfx.svg.Shape",n.Shape,{destroy:function(){if(this.fillStyle&&"type"in this.fillStyle){var a=this.rawNode.getAttribute("fill");(a=o.getRef(a))&&a.parentNode.removeChild(a)}if(this.clip)if(a=this.rawNode.getAttribute("clip-path"))(a=u.byId(a.match(/gfx_clip[\d]+/)[0]))&&a.parentNode.removeChild(a);this.rawNode=null;n.Shape.prototype.destroy.apply(this,arguments)},setFill:function(b){if(!b){this.fillStyle=
null;this.rawNode.setAttribute("fill","none");this.rawNode.setAttribute("fill-opacity",0);return this}var e,g=function(a){this.setAttribute(a,e[a].toFixed(8))};if(typeof b=="object"&&"type"in b){switch(b.type){case "linear":e=a.makeParameters(a.defaultLinearGradient,b);b=this._setFillObject(e,"linearGradient");c.forEach(["x1","y1","x2","y2"],g,b);break;case "radial":e=a.makeParameters(a.defaultRadialGradient,b);b=this._setFillObject(e,"radialGradient");c.forEach(["cx","cy","r"],g,b);break;case "pattern":e=
a.makeParameters(a.defaultPattern,b);b=this._setFillObject(e,"pattern");c.forEach(["x","y","width","height"],g,b)}this.fillStyle=e;return this}this.fillStyle=e=a.normalizeColor(b);this.rawNode.setAttribute("fill",e.toCss());this.rawNode.setAttribute("fill-opacity",e.a);this.rawNode.setAttribute("fill-rule","evenodd");return this},setStroke:function(b){var c=this.rawNode;if(!b){this.strokeStyle=null;c.setAttribute("stroke","none");c.setAttribute("stroke-opacity",0);return this}if(typeof b=="string"||
m.isArray(b)||b instanceof k)b={color:b};b=this.strokeStyle=a.makeParameters(a.defaultStroke,b);b.color=a.normalizeColor(b.color);if(b){c.setAttribute("stroke",b.color.toCss());c.setAttribute("stroke-opacity",b.color.a);c.setAttribute("stroke-width",b.width);c.setAttribute("stroke-linecap",b.cap);if(typeof b.join=="number"){c.setAttribute("stroke-linejoin","miter");c.setAttribute("stroke-miterlimit",b.join)}else c.setAttribute("stroke-linejoin",b.join);var e=b.style.toLowerCase();e in o.dasharray&&
(e=o.dasharray[e]);if(e instanceof Array){for(var e=m._toArray(e),g=0;g<e.length;++g)e[g]=e[g]*b.width;if(b.cap!="butt"){for(g=0;g<e.length;g=g+2){e[g]=e[g]-b.width;e[g]<1&&(e[g]=1)}for(g=1;g<e.length;g=g+2)e[g]=e[g]+b.width}e=e.join(",")}c.setAttribute("stroke-dasharray",e);c.setAttribute("dojoGfxStrokeStyle",b.style)}return this},_getParentSurface:function(){for(var b=this.parent;b&&!(b instanceof a.Surface);b=b.parent);return b},_setFillObject:function(c,e){var g=o.xmlns.svg;this.fillStyle=c;var k=
this._getParentSurface().defNode,i=this.rawNode.getAttribute("fill");if(i=o.getRef(i))if(i.tagName.toLowerCase()!=e.toLowerCase()){var n=i.id;i.parentNode.removeChild(i);i=b(g,e);i.setAttribute("id",n);k.appendChild(i)}else for(;i.childNodes.length;)i.removeChild(i.lastChild);else{i=b(g,e);i.setAttribute("id",a._base._getUniqueId());k.appendChild(i)}if(e=="pattern"){i.setAttribute("patternUnits","userSpaceOnUse");g=b(g,"image");g.setAttribute("x",0);g.setAttribute("y",0);g.setAttribute("width",c.width.toFixed(8));
g.setAttribute("height",c.height.toFixed(8));g.setAttributeNS?g.setAttributeNS(o.xmlns.xlink,"xlink:href",c.src):g.setAttribute("xlink:href",c.src);i.appendChild(g)}else{i.setAttribute("gradientUnits","userSpaceOnUse");for(k=0;k<c.colors.length;++k){var n=c.colors[k],l=b(g,"stop"),m=n.color=a.normalizeColor(n.color);l.setAttribute("offset",n.offset.toFixed(8));l.setAttribute("stop-color",m.toCss());l.setAttribute("stop-opacity",m.a);i.appendChild(l)}}this.rawNode.setAttribute("fill","url(#"+i.getAttribute("id")+
")");this.rawNode.removeAttribute("fill-opacity");this.rawNode.setAttribute("fill-rule","evenodd");return i},_applyTransform:function(){if(this.matrix){var a=this.matrix;this.rawNode.setAttribute("transform","matrix("+a.xx.toFixed(8)+","+a.yx.toFixed(8)+","+a.xy.toFixed(8)+","+a.yy.toFixed(8)+","+a.dx.toFixed(8)+","+a.dy.toFixed(8)+")")}else this.rawNode.removeAttribute("transform");return this},setRawNode:function(a){a=this.rawNode=a;this.shape.type!="image"&&a.setAttribute("fill","none");a.setAttribute("fill-opacity",
0);a.setAttribute("stroke","none");a.setAttribute("stroke-opacity",0);a.setAttribute("stroke-width",1);a.setAttribute("stroke-linecap","butt");a.setAttribute("stroke-linejoin","miter");a.setAttribute("stroke-miterlimit",4);a.__gfxObject__=this.getUID()},setShape:function(b){this.shape=a.makeParameters(this.shape,b);for(var c in this.shape)c!="type"&&this.rawNode.setAttribute(c,this.shape[c]);this.bbox=null;return this},_moveToFront:function(){this.rawNode.parentNode.appendChild(this.rawNode);return this},
_moveToBack:function(){this.rawNode.parentNode.insertBefore(this.rawNode,this.rawNode.parentNode.firstChild);return this},setClip:function(a){this.inherited(arguments);var c=a?"width"in a?"rect":"cx"in a?"ellipse":"points"in a?"polyline":"d"in a?"path":null:null;if(a&&!c)return this;if(c==="polyline"){a=m.clone(a);a.points=a.points.join(",")}var e,k=g.get(this.rawNode,"clip-path");if(k)(e=u.byId(k.match(/gfx_clip[\d]+/)[0]))&&e.removeChild(e.childNodes[0]);if(a){if(e){c=b(o.xmlns.svg,c);e.appendChild(c)}else{k=
"gfx_clip"+ ++C;this.rawNode.setAttribute("clip-path","url(#"+k+")");e=b(o.xmlns.svg,"clipPath");c=b(o.xmlns.svg,c);e.appendChild(c);this.rawNode.parentNode.appendChild(e);g.set(e,"id",k)}g.set(c,a)}else{this.rawNode.removeAttribute("clip-path");e&&e.parentNode.removeChild(e)}return this},_removeClipNode:function(){var a,b=g.get(this.rawNode,"clip-path");if(b)(a=u.byId(b.match(/gfx_clip[\d]+/)[0]))&&a.parentNode.removeChild(a);return a}});o.Group=l("dojox.gfx.svg.Group",o.Shape,{constructor:function(){n.Container._init.call(this)},
setRawNode:function(a){this.rawNode=a;this.rawNode.__gfxObject__=this.getUID()},destroy:function(){this.clear(true);o.Shape.prototype.destroy.apply(this,arguments)}});o.Group.nodeType="g";o.Rect=l("dojox.gfx.svg.Rect",[o.Shape,n.Rect],{setShape:function(b){this.shape=a.makeParameters(this.shape,b);this.bbox=null;for(var c in this.shape)c!="type"&&c!="r"&&this.rawNode.setAttribute(c,this.shape[c]);if(this.shape.r!=null){this.rawNode.setAttribute("ry",this.shape.r);this.rawNode.setAttribute("rx",this.shape.r)}return this}});
o.Rect.nodeType="rect";o.Ellipse=l("dojox.gfx.svg.Ellipse",[o.Shape,n.Ellipse],{});o.Ellipse.nodeType="ellipse";o.Circle=l("dojox.gfx.svg.Circle",[o.Shape,n.Circle],{});o.Circle.nodeType="circle";o.Line=l("dojox.gfx.svg.Line",[o.Shape,n.Line],{});o.Line.nodeType="line";o.Polyline=l("dojox.gfx.svg.Polyline",[o.Shape,n.Polyline],{setShape:function(b,c){if(b&&b instanceof Array){this.shape=a.makeParameters(this.shape,{points:b});c&&this.shape.points.length&&this.shape.points.push(this.shape.points[0])}else this.shape=
a.makeParameters(this.shape,b);this.bbox=null;this._normalizePoints();for(var e=[],g=this.shape.points,k=0;k<g.length;++k)e.push(g[k].x.toFixed(8),g[k].y.toFixed(8));this.rawNode.setAttribute("points",e.join(" "));return this}});o.Polyline.nodeType="polyline";o.Image=l("dojox.gfx.svg.Image",[o.Shape,n.Image],{setShape:function(b){this.shape=a.makeParameters(this.shape,b);this.bbox=null;var b=this.rawNode,c;for(c in this.shape)c!="type"&&c!="src"&&b.setAttribute(c,this.shape[c]);b.setAttribute("preserveAspectRatio",
"none");b.setAttributeNS?b.setAttributeNS(o.xmlns.xlink,"xlink:href",this.shape.src):b.setAttribute("xlink:href",this.shape.src);b.__gfxObject__=this.getUID();return this}});o.Image.nodeType="image";o.Text=l("dojox.gfx.svg.Text",[o.Shape,n.Text],{setShape:function(b){this.shape=a.makeParameters(this.shape,b);this.bbox=null;var b=this.rawNode,c=this.shape;b.setAttribute("x",c.x);b.setAttribute("y",c.y);b.setAttribute("text-anchor",c.align);b.setAttribute("text-decoration",c.decoration);b.setAttribute("rotate",
c.rotated?90:0);b.setAttribute("kerning",c.kerning?"auto":0);b.setAttribute("text-rendering",Y);b.firstChild?b.firstChild.nodeValue=c.text:b.appendChild(t(c.text));return this},getTextWidth:function(){var a=this.rawNode,b=a.parentNode,a=a.cloneNode(true);a.style.visibility="hidden";var c=0,e=a.firstChild.nodeValue;b.appendChild(a);if(e!="")for(;!c;)c=a.getBBox?parseInt(a.getBBox().width):68;b.removeChild(a);return c}});o.Text.nodeType="text";o.Path=l("dojox.gfx.svg.Path",[o.Shape,v.Path],{_updateWithSegment:function(a){this.inherited(arguments);
typeof this.shape.path=="string"&&this.rawNode.setAttribute("d",this.shape.path)},setShape:function(a){this.inherited(arguments);this.shape.path?this.rawNode.setAttribute("d",this.shape.path):this.rawNode.removeAttribute("d");return this}});o.Path.nodeType="path";o.TextPath=l("dojox.gfx.svg.TextPath",[o.Shape,v.TextPath],{_updateWithSegment:function(a){this.inherited(arguments);this._setTextPath()},setShape:function(a){this.inherited(arguments);this._setTextPath();return this},_setTextPath:function(){if(typeof this.shape.path==
"string"){var c=this.rawNode;if(!c.firstChild){var e=b(o.xmlns.svg,"textPath"),g=t("");e.appendChild(g);c.appendChild(e)}e=(e=c.firstChild.getAttributeNS(o.xmlns.xlink,"href"))&&o.getRef(e);if(!e)if(g=this._getParentSurface()){var g=g.defNode,e=b(o.xmlns.svg,"path"),k=a._base._getUniqueId();e.setAttribute("id",k);g.appendChild(e);c.firstChild.setAttributeNS?c.firstChild.setAttributeNS(o.xmlns.xlink,"xlink:href","#"+k):c.firstChild.setAttribute("xlink:href","#"+k)}e&&e.setAttribute("d",this.shape.path)}},
_setText:function(){var a=this.rawNode;if(!a.firstChild){var c=b(o.xmlns.svg,"textPath"),e=t("");c.appendChild(e);a.appendChild(c)}a=a.firstChild;c=this.text;a.setAttribute("alignment-baseline","middle");switch(c.align){case "middle":a.setAttribute("text-anchor","middle");a.setAttribute("startOffset","50%");break;case "end":a.setAttribute("text-anchor","end");a.setAttribute("startOffset","100%");break;default:a.setAttribute("text-anchor","start");a.setAttribute("startOffset","0%")}a.setAttribute("baseline-shift",
"0.5ex");a.setAttribute("text-decoration",c.decoration);a.setAttribute("rotate",c.rotated?90:0);a.setAttribute("kerning",c.kerning?"auto":0);a.firstChild.data=c.text}});o.TextPath.nodeType="text";var I=function(){var a=/WebKit\/(\d*)/.exec(e);return a?a[1]:0}()>534;o.Surface=l("dojox.gfx.svg.Surface",n.Surface,{constructor:function(){n.Container._init.call(this)},destroy:function(){n.Container.clear.call(this,true);this.defNode=null;this.inherited(arguments)},setDimensions:function(a,b){if(!this.rawNode)return this;
this.rawNode.setAttribute("width",a);this.rawNode.setAttribute("height",b);if(I){this.rawNode.style.width=a;this.rawNode.style.height=b}return this},getDimensions:function(){return this.rawNode?{width:a.normalizedLength(this.rawNode.getAttribute("width")),height:a.normalizedLength(this.rawNode.getAttribute("height"))}:null}});o.createSurface=function(a,c,e){var g=new o.Surface;g.rawNode=b(o.xmlns.svg,"svg");g.rawNode.setAttribute("overflow","hidden");c&&g.rawNode.setAttribute("width",c);e&&g.rawNode.setAttribute("height",
e);c=b(o.xmlns.svg,"defs");g.rawNode.appendChild(c);g.defNode=c;g._parent=u.byId(a);g._parent.appendChild(g.rawNode);return g};var r={_setFont:function(){var a=this.fontStyle;this.rawNode.setAttribute("font-style",a.style);this.rawNode.setAttribute("font-variant",a.variant);this.rawNode.setAttribute("font-weight",a.weight);this.rawNode.setAttribute("font-size",a.size);this.rawNode.setAttribute("font-family",a.family)}},D=n.Container,l={openBatch:function(){var a;a=o.useSvgWeb?p.doc.createDocumentFragment(true):
p.doc.createDocumentFragment();this.fragment=a},closeBatch:function(){if(this.fragment){this.rawNode.appendChild(this.fragment);delete this.fragment}},add:function(a){if(this!=a.getParent()){this.fragment?this.fragment.appendChild(a.rawNode):this.rawNode.appendChild(a.rawNode);D.add.apply(this,arguments);a.setClip(a.clip)}return this},remove:function(a,b){if(this==a.getParent()){this.rawNode==a.rawNode.parentNode&&this.rawNode.removeChild(a.rawNode);this.fragment&&this.fragment==a.rawNode.parentNode&&
this.fragment.removeChild(a.rawNode);a._removeClipNode();D.remove.apply(this,arguments)}return this},clear:function(){for(var a=this.rawNode;a.lastChild;)a.removeChild(a.lastChild);var b=this.defNode;if(b){for(;b.lastChild;)b.removeChild(b.lastChild);a.appendChild(b)}return D.clear.apply(this,arguments)},getBoundingBox:D.getBoundingBox,_moveChildToFront:D._moveChildToFront,_moveChildToBack:D._moveChildToBack},v={createObject:function(a,c){if(!this.rawNode)return null;var e=new a,g=b(o.xmlns.svg,a.nodeType);
e.setRawNode(g);e.setShape(c);this.add(e);return e}};m.extend(o.Text,r);m.extend(o.TextPath,r);m.extend(o.Group,l);m.extend(o.Group,n.Creator);m.extend(o.Group,v);m.extend(o.Surface,l);m.extend(o.Surface,n.Creator);m.extend(o.Surface,v);o.fixTarget=function(a){if(!a.gfxTarget)a.gfxTarget=x&&a.target.wholeText?n.byId(a.target.parentElement.__gfxObject__):n.byId(a.target.__gfxObject__);return true};if(o.useSvgWeb){o.createSurface=function(c,e,g){var k=new o.Surface;if(!e||!g)var n=i.position(c),e=e||
n.w,g=g||n.h;var c=u.byId(c),n=c.id?c.id+"_svgweb":a._base._getUniqueId(),l=b(o.xmlns.svg,"svg");l.id=n;l.setAttribute("width",e);l.setAttribute("height",g);svgweb.appendChild(l,c);l.addEventListener("SVGLoad",function(){k.rawNode=this;k.isLoaded=true;var a=b(o.xmlns.svg,"defs");k.rawNode.appendChild(a);k.defNode=a;if(k.onLoad)k.onLoad(k)},false);k.isLoaded=false;return k};o.Surface.extend({destroy:function(){var a=this.rawNode;svgweb.removeChild(a,a.parentNode)}});r={connect:function(a,b,c){a.substring(0,
2)==="on"&&(a=a.substring(2));c=arguments.length==2?b:m.hitch(b,c);this.getEventSource().addEventListener(a,c,false);return[this,a,c]},disconnect:function(a){this.getEventSource().removeEventListener(a[1],a[2],false);delete a[0]}};m.extend(o.Shape,r);m.extend(o.Surface,r)}return o})},"dojox/gfx/Mover":function(){define("dojox/gfx/Mover","dojo/_base/lang dojo/_base/array dojo/_base/declare dojo/on dojo/has dojo/_base/event".split(" "),function(m,r,p,u,l,c){return p("dojox.gfx.Mover",null,{constructor:function(i,
g,k){this.shape=i;this.lastX=l("touch")?(g.changedTouches?g.changedTouches[0]:g).clientX:g.clientX;this.lastY=l("touch")?(g.changedTouches?g.changedTouches[0]:g).clientY:g.clientY;i=this.host=k;g=document;k=u(g,l("touch")?"touchmove":"mousemove",m.hitch(this,"onFirstMove"));this.events=[u(g,l("touch")?"touchmove":"mousemove",m.hitch(this,"onMouseMove")),u(g,l("touch")?"touchend":"mouseup",m.hitch(this,"destroy")),u(g,"dragstart",m.hitch(c,"stop")),u(g,"selectstart",m.hitch(c,"stop")),k];if(i&&i.onMoveStart)i.onMoveStart(this)},
onMouseMove:function(i){var g=l("touch")?(i.changedTouches?i.changedTouches[0]:i).clientX:i.clientX,k=l("touch")?(i.changedTouches?i.changedTouches[0]:i).clientY:i.clientY;this.host.onMove(this,{dx:g-this.lastX,dy:k-this.lastY});this.lastX=g;this.lastY=k;c.stop(i)},onFirstMove:function(){this.host.onFirstMove(this);this.events.pop().remove()},destroy:function(){r.forEach(this.events,function(c){c.remove()});var c=this.host;if(c&&c.onMoveStop)c.onMoveStop(this);this.events=this.shape=null}})})},"dojox/gfx/decompose":function(){define("dojox/gfx/decompose",
["./_base","dojo/_base/lang","./matrix"],function(m,r,p){function u(c,a){return Math.abs(c-a)<=1.0E-6*(Math.abs(c)+Math.abs(a))}function l(c,a,g,i){if(isFinite(c)){if(!isFinite(g))return c}else return g;a=Math.abs(a);i=Math.abs(i);return(a*c+i*g)/(a+i)}function c(c){var c=p.normalize(c),a=-c.xx-c.yy,g=c.xx*c.yy-c.xy*c.yx,i=Math.sqrt(a*a-4*g),a=-(a+(0>a?-i:i))/2,g=g/a,i=c.xy/(a-c.xx),b=1,l=c.xy/(g-c.xx),m=1;u(a,g)&&(i=1,l=b=0,m=1);isFinite(i)||(i=1,b=(a-c.xx)/c.xy,isFinite(b)||(i=(a-c.yy)/c.yx,b=1,
isFinite(i)||(i=1,b=c.yx/(a-c.yy))));isFinite(l)||(l=1,m=(g-c.xx)/c.xy,isFinite(m)||(l=(g-c.yy)/c.yx,m=1,isFinite(l)||(l=1,m=c.yx/(g-c.yy))));var c=Math.sqrt(i*i+b*b),e=Math.sqrt(l*l+m*m);if(!isFinite(i/=c))i=0;if(!isFinite(b/=c))b=0;if(!isFinite(l/=e))l=0;if(!isFinite(m/=e))m=0;return{value1:a,value2:g,vector1:{x:i,y:b},vector2:{x:l,y:m}}}function i(c,a){var g=0>c.xx*c.yy||0<c.xy*c.yx?-1:1,i=a.angle1=(Math.atan2(c.yx,c.yy)+Math.atan2(-g*c.xy,g*c.xx))/2,g=Math.cos(i),i=Math.sin(i);a.sx=l(c.xx/g,g,
-c.xy/i,i);a.sy=l(c.yy/g,g,c.yx/i,i);return a}function g(c,a){var g=0>c.xx*c.yy||0<c.xy*c.yx?-1:1,i=a.angle2=(Math.atan2(g*c.yx,g*c.xx)+Math.atan2(-c.xy,c.yy))/2,g=Math.cos(i),i=Math.sin(i);a.sx=l(c.xx/g,g,c.yx/i,i);a.sy=l(c.yy/g,g,-c.xy/i,i);return a}return m.decompose=function(k){var a=p.normalize(k),k={dx:a.dx,dy:a.dy,sx:1,sy:1,angle1:0,angle2:0};if(u(a.xy,0)&&u(a.yx,0))return r.mixin(k,{sx:a.xx,sy:a.yy});if(u(a.xx*a.yx,-a.xy*a.yy))return i(a,k);if(u(a.xx*a.xy,-a.yx*a.yy))return g(a,k);var l,m=
new p.Matrix2D(a);l=r.mixin(m,{dx:0,dy:0,xy:m.yx,yx:m.xy});m=c([a,l]);l=c([l,a]);m=new p.Matrix2D({xx:m.vector1.x,xy:m.vector2.x,yx:m.vector1.y,yy:m.vector2.y});l=new p.Matrix2D({xx:l.vector1.x,xy:l.vector1.y,yx:l.vector2.x,yy:l.vector2.y});a=new p.Matrix2D([p.invert(m),a,p.invert(l)]);i(l,k);a.xx*=k.sx;a.yy*=k.sy;g(m,k);a.xx*=k.sx;a.yy*=k.sy;return r.mixin(k,{sx:a.xx,sy:a.yy})}})}}});define("dojo/graphics-layer",[],1);